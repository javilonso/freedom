{"version":3,"sources":["webpack:///$_lazy_route_resource lazy namespace object","webpack:///src/app/app-routing/app-routing.module.ts","webpack:///src/app/app.component.ts","webpack:///src/app/app.component.html","webpack:///src/app/app.module.ts","webpack:///src/app/clases/actividad.ts","webpack:///src/app/components/actividad-completadas/actividad-completadas.component.ts","webpack:///src/app/components/actividad-completadas/actividad-completadas.component.html","webpack:///src/app/components/actividad-creadas/actividad-creadas.component.ts","webpack:///src/app/components/actividad-creadas/actividad-creadas.component.html","webpack:///src/app/components/actividad-detail/actividad-detail.component.ts","webpack:///src/app/components/actividad-detail/actividad-detail.component.html","webpack:///src/app/components/actividad-proximas/actividad-proximas.component.ts","webpack:///src/app/components/actividad-proximas/actividad-proximas.component.html","webpack:///src/app/components/caja-actividad/caja-actividad.component.ts","webpack:///src/app/components/caja-actividad/caja-actividad.component.html","webpack:///src/app/components/confirm/confirm.component.ts","webpack:///src/app/components/confirm/confirm.component.html","webpack:///src/app/components/contacts/contacts.component.ts","webpack:///src/app/components/contacts/contacts.component.html","webpack:///src/app/components/header/header.component.html","webpack:///src/app/components/header/header.component.ts","webpack:///src/app/components/home/home.component.ts","webpack:///src/app/components/home/home.component.html","webpack:///src/app/components/login/login.component.ts","webpack:///src/app/components/login/login.component.html","webpack:///src/app/components/nuevaactividad/nuevaactividad.component.ts","webpack:///src/app/components/nuevaactividad/nuevaactividad.component.html","webpack:///src/app/components/nuevapassword/nuevapassword.component.ts","webpack:///src/app/components/nuevapassword/nuevapassword.component.html","webpack:///src/app/components/paginaprincipal/paginaprincipal.component.ts","webpack:///src/app/components/paginaprincipal/paginaprincipal.component.html","webpack:///src/app/components/profile/profile.component.ts","webpack:///src/app/components/profile/profile.component.html","webpack:///src/app/components/puntuacion/puntuacion.component.ts","webpack:///src/app/components/puntuacion/puntuacion.component.html","webpack:///src/app/components/register/register.component.ts","webpack:///src/app/components/register/register.component.html","webpack:///src/app/components/sidenav/sidenav.component.html","webpack:///src/app/components/sidenav/sidenav.component.ts","webpack:///src/app/components/subirfoto/subirfoto.component.ts","webpack:///src/app/components/subirfoto/subirfoto.component.html","webpack:///src/app/guard/auth.guard.ts","webpack:///src/app/services/auth.service.ts","webpack:///src/app/services/basedatos.service.ts","webpack:///src/app/services/sidenav.service.ts","webpack:///src/environments/environment.ts","webpack:///src/main.ts"],"names":["webpackEmptyAsyncContext","req","Promise","resolve","then","e","Error","code","keys","module","exports","id","routes","path","component","canActivate","redirectTo","pathMatch","AppRoutingModule","forRoot","imports","AppComponent","router","url","selector","templateUrl","styleUrls","AppModule","initializeApp","firebase","apiKey","libraries","declarations","providers","bootstrap","schemas","Actividad","nombre","participantes","creador_nombre","creador_email","nivel","fecha","lugar","deporte","username_participantes","tel_participantes","descripcion","hora","longitud","latitud","ActividadCompletadasComponent","route","basedatosService","authService","aux_actividades","s_actividades","getActividades","subscribe","data","actividades","i","length","a","JSON","stringify","b","parse","seconds","Date","filtro","unsubscribe","j","getTime","includes","localStorage","getItem","mobilephone","ActividadCreadasComponent","email","ActividadDetailComponent","location","zoom","snapshot","params","getActividad","activity","setSportImage","telefonos","foto_actividad","back","goBack","ActividadProximasComponent","CajaActividadComponent","dialog","aux_user","estado","getPuntos","uid","ptsObs","puntos","dialogRef","open","width","height","afterClosed","dialogResult","result","puntosUserNewActivity","deleteActividad","deleteUserInActividad","username","addUserInActividad","delay","any","close","alert","openAnimationUnirse","openConfirmEliminar","openConfirmAbandonar","navigate","ms","setTimeout","goIn","accion","ConfirmComponent","message","ContactsComponent","http","s_users","getUsuarios","nombreuser","displayName","users","index","splice","obj","dest_email","dest_nombre","origen_username","origen_email","origen_tlf","origen_foto","photoURL","post","responseType","res","console","log","HeaderComponent","sidenavService","isLoggedIn","photouser","mispuntos","medallauser","toggle","SignOut","toggleSidenav","redirectProfile","logout","HomeComponent","functions","fbs","openLoginForm","openRegisterForm","LoginComponent","user","password","remember","SignIn","onSubmit","nuevaPassword","NuevaactividadComponent","hour","pattern","myFilter","d","day","setHours","hasError","actividad","participantes_number","selectedNivel","hours","slice","minutes","prueba","Deporte","descript","finalActivity","longitude","latitude","addActividad","nav","error","formatted_address","onAutocompleteSelected","onLocationSelected","crearActividad","NuevapasswordComponent","PaginaprincipalComponent","db","all_actividades","filtered","isfilter","listdeportes","deportes","push","buscador","filter","c","toLowerCase","indexOf","aux","act","concat","sidenav","opened","sidenavfun","getData","ProfileComponent","setTime","birthday","editUsuario","fetchDataUser","saveChanges","PuntuacionComponent","pintarpuntos","RegisterComponent","setFullYear","getFullYear","startDate","SignUp","myemail","myusername","city","dni","crearUsuario","SidenavComponent","mode_sidenav","getScreenSize","event","screenHeight","window","innerHeight","screenWidth","innerWidth","setSidenav","redirectActividad","redirectPts","redirectAct","redirectContacts","redirectActCreada","redirectActProxima","redirectActCompleta","SubirfotoComponent","afStorage","basedatos","af","image","Math","random","toString","substring","ref","task","put","target","files","snapshotChanges","pipe","downloadURL","getDownloadURL","subirDNI","userData","AuxSignIn","upload","subirfoto","AuthGuard","next","state","providedIn","AuthService","afs","afAuth","ngZone","authState","setItem","signInWithEmailAndPassword","auxuserData","run","collection","doc","get","toPromise","fetcheddata","photo","fullname","phone","birth","createUserWithEmailAndPassword","SetUserData","reload","userRef","photoDNI","set","merge","signOut","removeItem","passwordResetEmail","sendPasswordResetEmail","Basedatos","firestore","mis_puntos","asObservable","usuarios","valueChanges","createId","r","myuid","actividad_editada","actividad_escogida","tel_user","aux_tel","aux_nombre","update","puntosextra","mandarmedalla","getUsuario","cambio","gif","medalla","texto","dest_gif","dest_medalla_foto","texto_nivel","dest_puntos","urldni","usuario_editado","name","userFullName","SidenavService","environment","production","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","bootstrapModule","err"],"mappings":"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","file":"main-es5.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./$$_lazy_route_resource lazy recursive\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { LoginComponent } from '../components/login/login.component';\nimport { RegisterComponent } from '../components/register/register.component';\nimport {PaginaprincipalComponent} from '../components/paginaprincipal/paginaprincipal.component';\nimport {CajaActividadComponent} from '../components/caja-actividad/caja-actividad.component';\nimport { HomeComponent } from '../components/home/home.component';\nimport { ActividadDetailComponent } from '../components/actividad-detail/actividad-detail.component';\nimport { NuevaactividadComponent } from '../components/nuevaactividad/nuevaactividad.component';\nimport { ProfileComponent } from '../components/profile/profile.component';\nimport { ActividadCreadasComponent } from '../components/actividad-creadas/actividad-creadas.component';\nimport { ActividadProximasComponent } from '../components/actividad-proximas/actividad-proximas.component'\nimport { ActividadCompletadasComponent } from '../components/actividad-completadas/actividad-completadas.component';\nimport {PuntuacionComponent} from '../components/puntuacion/puntuacion.component';\nimport { AuthGuard } from \"../guard/auth.guard\";\nimport { ContactsComponent } from '../components/contacts/contacts.component';\n\nconst routes: Routes = [{path:'home',component:HomeComponent},\n                        {path:'principal',component:PaginaprincipalComponent, canActivate: [AuthGuard] },\n                        {path:'actividad',component:CajaActividadComponent, canActivate: [AuthGuard] },\n                        {path:'actividad-nueva',component:NuevaactividadComponent, canActivate: [AuthGuard] },\n                        {path:'actividades-creadas',component:ActividadCreadasComponent, canActivate: [AuthGuard] },\n                        {path:'actividades-proximas',component:ActividadProximasComponent, canActivate: [AuthGuard] },\n                        {path:'actividades-completadas',component:ActividadCompletadasComponent, canActivate: [AuthGuard] },\n                        {path:'puntuacion',component:PuntuacionComponent, canActivate: [AuthGuard] },\n                        {path:'actividad-detail/:id',component:ActividadDetailComponent, canActivate: [AuthGuard] },\n                        {path:'profile',component:ProfileComponent, canActivate: [AuthGuard] },\n                        {path:'contactos',component:ContactsComponent, canActivate: [AuthGuard] },\n                        {path:'', redirectTo:'/home', pathMatch:'full'},\n                        {path: '**', redirectTo:'/home', pathMatch:'full'}];\n \n@NgModule({\n  imports: [RouterModule.forRoot(routes)],\n  exports: [RouterModule]\n})\nexport class AppRoutingModule { }\n","import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.scss']\n})\n\nexport class AppComponent implements OnInit {\n\n  constructor(private router: Router) {}\n\n  ngOnInit() {}\n\n  isHomeRoute() {\n    return this.router.url === '/home';\n  }\n\n  isNotHomeRoute() {\n    return this.router.url !== '/home';\n  }\n}","\n<div *ngIf=\"isNotHomeRoute()\">\n    <app-header ></app-header>\n    <app-sidenav ></app-sidenav>\n</div>\n\n<app-home *ngIf=\"isHomeRoute()\"></app-home>\n","import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\n\nimport { AppRoutingModule } from './app-routing/app-routing.module';\nimport { AppComponent } from './app.component';\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\nimport { FlexLayoutModule } from \"@angular/flex-layout\";\n\nimport { CUSTOM_ELEMENTS_SCHEMA } from '@angular/core';\n\n//FIREBASE\nimport {environment} from '../environments/environment';\nimport { AngularFireModule } from '@angular/fire';\nimport { AngularFirestoreModule } from '@angular/fire/firestore';\nimport { AngularFireAuthModule } from '@angular/fire/auth';\nimport { AngularFireStorageModule } from '@angular/fire/storage';\n\n\n\n//COMPONENTS\nimport { LoginComponent } from './components/login/login.component';\nimport { RegisterComponent } from './components/register/register.component';\nimport { PaginaprincipalComponent } from './components/paginaprincipal/paginaprincipal.component';\nimport { CajaActividadComponent } from './components/caja-actividad/caja-actividad.component';\nimport { NuevaactividadComponent } from './components/nuevaactividad/nuevaactividad.component';\nimport { HeaderComponent } from './components/header/header.component';\nimport { SidenavComponent } from './components/sidenav/sidenav.component';\nimport { HomeComponent } from './components/home/home.component';\nimport { SubirfotoComponent } from './components/subirfoto/subirfoto.component';\nimport { ProfileComponent } from './components/profile/profile.component';\nimport { ActividadDetailComponent } from './components/actividad-detail/actividad-detail.component';\nimport { ConfirmComponent } from './components/confirm/confirm.component';\nimport { ActividadCreadasComponent } from './components/actividad-creadas/actividad-creadas.component';\nimport { ActividadCompletadasComponent } from './components/actividad-completadas/actividad-completadas.component';\nimport { ActividadProximasComponent } from './components/actividad-proximas/actividad-proximas.component';\nimport { NuevapasswordComponent } from './components/nuevapassword/nuevapassword.component';\nimport { PuntuacionComponent } from './components/puntuacion/puntuacion.component';\nimport { ContactsComponent } from './components/contacts/contacts.component';\n\n//MATERIAL\nimport {MatMenuModule} from '@angular/material/menu';\nimport {MatButtonModule} from '@angular/material/button';\nimport {MatToolbarModule} from '@angular/material/toolbar';\nimport {MatInputModule} from '@angular/material/input';\nimport {MatSidenavModule} from '@angular/material/sidenav';\nimport {MatIconModule} from '@angular/material/icon';\nimport {MatExpansionModule} from '@angular/material/expansion';\nimport {MatSelectModule} from '@angular/material/select';\nimport {MatTooltipModule} from '@angular/material/tooltip';\nimport {MatDialogModule} from '@angular/material/dialog';\nimport {MatDatepickerModule} from '@angular/material/datepicker';\nimport {MatFormFieldModule} from '@angular/material/form-field';\nimport {MatNativeDateModule} from '@angular/material/core';\nimport {MatCheckboxModule} from '@angular/material/checkbox'\nimport {MatListModule} from'@angular/material/list';\nimport {MatProgressBarModule} from '@angular/material/progress-bar';\n\nimport {FormsModule} from '@angular/forms';\nimport { ReactiveFormsModule } from '@angular/forms';\n\n//SERVICIOS\nimport { Basedatos } from './services/basedatos.service';\n\n//GOOGLE MAPS \nimport { MatGoogleMapsAutocompleteModule } from '@angular-material-extensions/google-maps-autocomplete';\nimport { AgmCoreModule } from '@agm/core';\n\n\n//SERVER COMMUNICATION\nimport { HttpClientModule } from '@angular/common/http';\n\n\n\n\n@NgModule({\n  declarations: [\n    AppComponent,\n    LoginComponent,\n    RegisterComponent,\n    PaginaprincipalComponent,\n    CajaActividadComponent,\n    NuevaactividadComponent,\n    HeaderComponent,\n    SidenavComponent,\n    HomeComponent,\n    ActividadDetailComponent,\n    SubirfotoComponent,\n    ProfileComponent,\n    ActividadCreadasComponent,\n    ActividadCompletadasComponent,\n    ActividadProximasComponent,\n    NuevapasswordComponent,\n    PuntuacionComponent,\n    ContactsComponent,\n    ConfirmComponent,\n\n  ],\n  imports: [\n    BrowserModule,\n    AppRoutingModule,\n    HttpClientModule,\n    BrowserAnimationsModule,\n    FlexLayoutModule,\n    MatButtonModule,\n    MatMenuModule,\n    MatToolbarModule,\n    MatInputModule,\n    MatSidenavModule,\n    MatIconModule,\n    MatExpansionModule,\n    MatSelectModule,\n    MatProgressBarModule,\n    MatTooltipModule,\n    AngularFireModule.initializeApp(environment.firebase),\n    AngularFirestoreModule,\n    AngularFireAuthModule,\n    AngularFireStorageModule,\n    MatDialogModule,\n    FormsModule,\n    MatDatepickerModule,\n    MatFormFieldModule,\n    MatCheckboxModule,\n    MatListModule,\n    MatNativeDateModule,\n    ReactiveFormsModule,\n    MatGoogleMapsAutocompleteModule,\n    AgmCoreModule.forRoot({\n      apiKey: 'AIzaSyBfJCfXNgcLBQSThRuZ4TQHVu7vJLX39ME',\n      libraries: ['places']\n    }),\n\n  ],\n  exports:[],\n  providers: [Basedatos],\n  bootstrap: [AppComponent],\n  schemas: [CUSTOM_ELEMENTS_SCHEMA]\n})\nexport class AppModule { }\n","export class Actividad {\n    id: string;  //string random generada en firebase para localizar la entrada en la base de datos\n    nombre:string;\n    participantes:number;\n    username_participantes:string[];\n    tel_participantes:string[];\n    creador_nombre:string;\n    creador_email:string;\n    nivel:string;\n    fecha:Date;\n    lugar:string;\n    deporte:string;\n    descripcion:string;\n    hora:string;\n    longitud:number;    //longitud y latitud G-Maps\n    latitud:number;\n\n    constructor(id:string, nombre:string, participantes:number, creador_nombre:string,creador_email:string, nivel:string, \n        fecha:Date, lugar:string, deporte:string, username_participantes:string[], \n        tel_participantes:string[], descripcion:string, hora:string, longitud:number, latitud:number)\n    {\n        this.id=id;\n        this.nombre=nombre;\n        this.participantes=participantes;\n        this.username_participantes=username_participantes;\n        this.tel_participantes=tel_participantes;\n        this.creador_nombre=creador_nombre;\n        this.creador_email=creador_email;\n        this.nivel=nivel;\n        this.fecha=fecha;\n        this.lugar=lugar;\n        this.deporte=deporte;\n        this.descripcion=descripcion;\n        this.hora=hora;\n        this.longitud=longitud;\n        this.latitud=latitud;\n    }\n    \n};","import { Component, OnInit, SimpleChange } from '@angular/core';\nimport {Router, ActivatedRoute} from '@angular/router';\nimport {Basedatos} from '../../services/basedatos.service';\nimport {Actividad} from '../../clases/actividad';\nimport {AuthService} from '../../services/auth.service';\nimport { Subscription } from 'rxjs';\n\n@Component({\n  selector: 'app-actividad-completadas',\n  templateUrl: './actividad-completadas.component.html',\n  styleUrls: ['./actividad-completadas.component.scss']\n})\nexport class ActividadCompletadasComponent implements OnInit {\n\n  public actividades: Actividad[];\n  public aux_actividades: Actividad[] = [];\n  public s_actividades: Subscription;\n  \n  constructor(public router: Router, public route: ActivatedRoute, private basedatosService: Basedatos, \n    public authService: AuthService) { }\n\n  ngOnInit(): void {\n  \n    this.s_actividades=this.basedatosService.getActividades().subscribe(data=>{\n      this.aux_actividades=[];\n      this.actividades=[];\n      this.actividades=data;\n      for(let i=0; i<this.actividades.length; i++){\n        let a = JSON.stringify(this.actividades[i]);\n        let b = (JSON.parse(a)).fecha.seconds;\n        this.actividades[i].fecha = new Date(b*1000);\n      }\n      this.filtro();\n\n    });\n  }\n\n  ngOnDestroy() {\n    this.s_actividades.unsubscribe();\n  }\n\n  //actividades del usuario que ya han pasado\n  filtro(){\n    let j:number=0;\n    for(let i=0; i<this.actividades.length; i++){\n      if (this.actividades[i].fecha.getTime() < new Date().getTime()){\n        if (this.actividades[i].tel_participantes.includes(JSON.parse(localStorage.getItem('datauser')).data.mobilephone)){\n          this.aux_actividades[j]=this.actividades[i];\n          j++;\n        }\n      }\n    }\n  }\n\n\n}","<div id=\"barra_busqueda\">\n    <div class=\"cajas_container\">\n        <div *ngFor=\"let actividad of aux_actividades\">\n            <app-caja-actividad [activity]=\"actividad\"></app-caja-actividad>\n        </div>        \n    </div>\n\n</div>\n","import { Component, OnInit, SimpleChange } from '@angular/core';\nimport {Router, ActivatedRoute} from '@angular/router';\nimport {Basedatos} from '../../services/basedatos.service';\nimport {Actividad} from '../../clases/actividad';\nimport {AuthService} from '../../services/auth.service';\nimport { Subscription } from 'rxjs';\n\n\n@Component({\n  selector: 'app-actividad-creadas',\n  templateUrl: './actividad-creadas.component.html',\n  styleUrls: ['./actividad-creadas.component.scss']\n})\nexport class ActividadCreadasComponent implements OnInit {\n\n  public actividades: Actividad[];\n  public aux_actividades: Actividad[] = [];\n  public s_actividades: Subscription;\n  \n  constructor(public router: Router, public route: ActivatedRoute, private basedatosService: Basedatos, \n    public authService: AuthService) {}\n\n  ngOnInit(): void {\n    this.s_actividades=this.basedatosService.getActividades().subscribe(data=>{\n      this.aux_actividades=[];\n      this.actividades=[];\n      this.actividades=data;\n      for(let i=0; i<this.actividades.length; i++){\n        let a = JSON.stringify(this.actividades[i]);\n        let b = (JSON.parse(a)).fecha.seconds;\n        this.actividades[i].fecha = new Date(b*1000);\n      }\n      this.filtro();\n    });\n  }\n\n   ngOnDestroy(){}\n\n  //actividades creadas por el usuario actual\n  filtro(){\n    let j:number=0;\n    for(let i=0; i<this.actividades.length; i++){\n      if (this.actividades[i].creador_email==JSON.parse(localStorage.getItem('datauser')).data.email){\n          this.aux_actividades[j]=this.actividades[i];\n          j++;\n    }\n    }\n  }\n\n\n}\n","<div id=\"barra_busqueda\">\n    <div class=\"cajas_container\">\n        <div *ngFor=\"let actividad of aux_actividades\">\n            <app-caja-actividad [activity]=\"actividad\"></app-caja-actividad>\n        </div>        \n    </div>\n\n</div>\n","import { Component, OnInit } from '@angular/core';\nimport { Params, ActivatedRoute } from '@angular/router';\nimport {Basedatos} from '../../services/basedatos.service';\nimport {Actividad} from '../../clases/actividad';\nimport {Location} from '@angular/common';\n\n\n@Component({\n  selector: 'app-actividad-detail',\n  templateUrl: './actividad-detail.component.html',\n  styleUrls: ['./actividad-detail.component.scss']\n})\nexport class ActividadDetailComponent implements OnInit {\n\n  public activity:Actividad;\n  tryname:string;\n  tryphoto:string;\n  public foto_actividad:string;\n  public telefonos:string[];\n  latitud: number;\n  longitud: number;\n  zoom: number = 15;\n\n\n  constructor(private basedatosService: Basedatos, private route: ActivatedRoute, private location: Location) {}\n\n  ngOnInit(): void {\n    const id = this.route.snapshot.params['id'];\n    this.basedatosService.getActividad(id).then(data=>{\n      this.activity=data;\n      this.setSportImage();\n      \n      if (this.activity.creador_email==JSON.parse(localStorage.getItem('datauser')).data.email){\n        this.telefonos=this.activity.tel_participantes;\n      }\n      else{\n        this.telefonos=[\"*Solo visible para el creador de la actividad\"]\n      }\n      this.longitud=this.activity.longitud;\n      this.latitud=this.activity.latitud;\n\n      let a = JSON.stringify(this.activity);\n      let b = (JSON.parse(a)).fecha.seconds;\n      this.activity.fecha = new Date(b*1000);\n    });\n  }\n\n  setSportImage(): void {\n    if(this.activity.deporte==\"Baloncesto\"){\n      this.foto_actividad=\"../../../assets/basket.svg\"\n    }\n    else if(this.activity.deporte==\"Ciclismo\"){\n      this.foto_actividad=\"../../../assets/bici.svg\"\n    }\n    else if(this.activity.deporte==\"Futbol\"){\n      this.foto_actividad=\"../../../assets/futbol.svg\"\n    }\n    else if(this.activity.deporte==\"Tenis\"){\n      this.foto_actividad=\"../../../assets/tenis.svg\"\n    }\n    else if(this.activity.deporte==\"Running\"){\n      this.foto_actividad=\"../../../assets/run.svg\"\n    }\n    else if(this.activity.deporte==\"Skate\"){\n      this.foto_actividad=\"../../../assets/skateboard.svg\"\n    }\n    else if(this.activity.deporte==\"Trekking\"){\n      this.foto_actividad=\"../../../assets/trekking.svg\"\n    }\n    else if(this.activity.deporte==\"Patinaje\"){\n      this.foto_actividad=\"../../../assets/skate.svg\"\n    }\n  }\n\n  goBack(): void {\n    this.location.back();\n  }\n\n}","<button mat-button class=\"back\" (click)=goBack()><i class=\"material-icons\">arrow_back</i></button>\n\n<div class=\"container\" *ngIf=\"activity\">\n    \n    <div class=\"item\">\n        <div class=\"round\">\n            <img class=\"foto\" src={{foto_actividad}} alt=\"sport image\">\n        </div>\n    </div>\n\n    <div class=\"item\">\n        <span class=\"titulo\">  {{activity.nombre}}   </span>\n    </div>\n\n    <div class=\"item\">\n        <span class=\"author\">Evento creado por <b> {{activity.creador_nombre}}</b>  </span>\n    </div>\n\n    \n    <div class=\"item\">\n        <span class=\"deporte\"> <b> {{activity.deporte}}</b> </span>\n    </div>\n    \n    <span class=\"spacer\"></span>\n\n    <div class=\"item\">\n        <span class=\"fecha\">{{activity.fecha | date:'fullDate' | uppercase}} &nbsp; at &nbsp; {{activity.fecha | date:'shortTime'}} </span>\n    </div>\n            \n    <span class=\"spacer\"></span>\n    \n    <div class=\"item\">\n        <span class=\"descripcion\"> <b> Descripción: </b></span>\n        <span class=\"descripciontext\">  {{activity.descripcion}}</span>\n    </div>\n\n    <span class=\"spacer\"></span>\n\n    <div class=\"item\">\n        <span class=\"descripcion\"> <b> Teléfono de los participantes: </b></span>\n        <span class=\"descripciontext\">  {{telefonos}}</span>\n    </div>\n    <div class=\"item\">\n        <span class=\"descripcion\"><b> Participantes: </b></span>\n        <span class=\"descripciontext\">  {{activity.username_participantes}}</span>\n    </div>\n    \n    <span class=\"spacer\"></span>\n    <span class=\"spacer\"></span>\n    \n\n\n    <div class=\"container2\">\n        \n        <div class=\"item\">\n            <span class=\"lugar\">  LUGAR:</span>\n            <span class=\"lugardesc\">  {{activity.lugar | uppercase}}</span>\n        </div>\n    \n        <span class=\"spacer\"></span>\n    \n        <div class=\"item\">\n            <span class=\"nivel\">  NIVEL:</span>\n            <span class=\"niveldesc\">  {{activity.nivel}}</span>\n        </div>\n    \n        <span class=\"spacer\"></span>\n    \n        <div class=\"item\">\n            <span class=\"particip\">  PARTICIPANTES:</span>\n            <span class=\"participdesc\">  {{activity.participantes}}</span>\n        </div>\n\n    </div>\n\n    \n\n</div>\n\n<div class=\"mapa\">\n\n<agm-map [latitude]=\"latitud\" [zoom]=\"zoom\" [longitude]=\"longitud\">\n    <agm-marker  [latitude]=\"latitud\" [longitude]=\"longitud\"></agm-marker>\n  </agm-map>\n\n</div>","import { Component, OnInit, SimpleChange } from '@angular/core';\nimport {Router, ActivatedRoute} from '@angular/router';\nimport {Basedatos} from '../../services/basedatos.service';\nimport {Actividad} from '../../clases/actividad';\nimport {AuthService} from '../../services/auth.service';\nimport { Subscription } from 'rxjs';\n\n\n@Component({\n  selector: 'app-actividad-proximas',\n  templateUrl: './actividad-proximas.component.html',\n  styleUrls: ['./actividad-proximas.component.scss']\n})\nexport class ActividadProximasComponent implements OnInit {\n\n  mySubscription: any;\n  public actividades: Actividad[];\n  public aux_actividades: Actividad[] = [];\n  public s_actividades: Subscription;\n  \n  constructor(public router: Router, public route: ActivatedRoute, private basedatosService: Basedatos, \n    public authService: AuthService) {}\n\n  ngOnInit(): void {\n    \n    this.s_actividades=this.basedatosService.getActividades().subscribe(data=>{\n      this.aux_actividades=[];\n      this.actividades=[];\n      this.actividades=data;\n      for(let i=0; i<this.actividades.length; i++){\n        let a = JSON.stringify(this.actividades[i]);\n        let b = (JSON.parse(a)).fecha.seconds;\n        this.actividades[i].fecha = new Date(b*1000);\n      }\n      this.filtro();\n    });\n  }\n\n  ngOnDestroy() {\n      this.s_actividades.unsubscribe();\n  }\n\n  //actividades del usuario que va a participar\n  filtro(){\n    let j:number=0;\n    for(let i=0; i<this.actividades.length; i++){\n        if (this.actividades[i].fecha.getTime() > new Date().getTime()){\n          if (this.actividades[i].tel_participantes.includes(JSON.parse(localStorage.getItem('datauser')).data.mobilephone)){\n            this.aux_actividades[j]=this.actividades[i];\n            j++;\n          }\n        }\n    }\n  }\n\n} ","<div id=\"barra_busqueda\">\n    <div class=\"cajas_container\">\n        <div *ngFor=\"let actividad of aux_actividades\">\n            <app-caja-actividad [activity]=\"actividad\"></app-caja-actividad>\n        </div>        \n    </div>\n\n</div>\n","import { Component, OnInit, Input, ɵConsole } from '@angular/core';\nimport { Actividad } from '../../clases/actividad';\nimport {Basedatos} from '../../services/basedatos.service';\nimport { AuthService } from \"../../services/auth.service\";\nimport { Router } from \"@angular/router\";\nimport {ConfirmComponent} from '../confirm/confirm.component';\nimport { MatDialog } from '@angular/material/dialog';\n\n\n@Component({\n  selector: 'app-caja-actividad',\n  templateUrl: './caja-actividad.component.html',\n  styleUrls: ['./caja-actividad.component.scss']\n})\nexport class CajaActividadComponent implements OnInit {\n\n  @Input() public activity: Actividad;\n\n  public foto_actividad:string;\n  public estado:string;\n  public aux_user;\n  puntos:number;\n  result: boolean;\n\n  constructor(private basedatosService: Basedatos, public authService: AuthService,  public router: Router, public dialog: MatDialog) { }\n\n  ngOnInit(): void {\n    this.aux_user = JSON.parse(localStorage.getItem('datauser')).data;\n    \n    if(this.activity.deporte==\"Baloncesto\"){\n      this.foto_actividad=\"../../../assets/basket.svg\"\n    }\n    else if(this.activity.deporte==\"Ciclismo\"){\n      this.foto_actividad=\"../../../assets/bici.svg\"\n    }\n    else if(this.activity.deporte==\"Futbol\"){\n      this.foto_actividad=\"../../../assets/futbol.svg\"\n    }\n    else if(this.activity.deporte==\"Tenis\"){\n      this.foto_actividad=\"../../../assets/tenis.svg\"\n    }\n    else if(this.activity.deporte==\"Running\"){\n      this.foto_actividad=\"../../../assets/run.svg\"\n    }\n    else if(this.activity.deporte==\"Skate\"){\n      this.foto_actividad=\"../../../assets/skateboard.svg\"\n    }\n    else if(this.activity.deporte==\"Trekking\"){\n      this.foto_actividad=\"../../../assets/trekking.svg\"\n    }\n    else if(this.activity.deporte==\"Patinaje\"){\n      this.foto_actividad=\"../../../assets/skate.svg\"\n    }\n\n    if(!this.activity.tel_participantes.includes(JSON.parse(localStorage.getItem('datauser')).data.mobilephone)){\n      this.estado = \"UNIRSE\";\n    }\n    else if(this.activity.creador_email === JSON.parse(localStorage.getItem('datauser')).data.email){\n      this.estado = \"ELIMINAR\";\n    }\n    else{ \n      this.estado = \"ABANDONAR\";\n    }\n\n    this.basedatosService.getPuntos(JSON.parse(localStorage.getItem('datauser')).data.uid);\n    this.basedatosService.ptsObs.subscribe((a) => {\n      this.puntos=a;\n    });\n\n  }\n\n\n  openConfirmEliminar() {\n    const dialogRef = this.dialog.open(ConfirmComponent, {\n      width: '350px',\n      height: '250px',\n      data: '¿Estás seguro que quieres eliminar la actividad '+this.activity.nombre+'?'\n    });\n    dialogRef.afterClosed().subscribe(dialogResult => {\n      this.result = dialogResult;\n      if (this.result == true) {\n        this.basedatosService.puntosUserNewActivity(JSON.parse(localStorage.getItem('datauser')).data.uid, \n                                               this.puntos, -50);\n        this.basedatosService.deleteActividad(this.activity.id);\n      }\n    });\n  }\n\n  openConfirmAbandonar() {\n    const dialogRef = this.dialog.open(ConfirmComponent, {\n      width: '350px',\n      height: '250px',\n      data: '¿Estás seguro que deseas abandonar la actividad ' + this.activity.nombre + '?'\n    });\n    dialogRef.afterClosed().subscribe(dialogResult => {\n      this.result = dialogResult;\n      if (this.result == true) {\n        this.estado = \"UNIRSE\";\n      this.basedatosService.puntosUserNewActivity(JSON.parse(localStorage.getItem('datauser')).data.uid, \n                                               this.puntos, -40);\n      this.basedatosService.deleteUserInActividad(this.activity, \n        JSON.parse(localStorage.getItem('datauser')).data.mobilephone, \n        JSON.parse(localStorage.getItem('datauser')).data.username);\n      }\n    });\n  }\n\n  openAnimationUnirse() {\n    const dialogRef = this.dialog.open(ConfirmComponent, {\n      width: '450px',\n      height: '300px',\n      data: 'UNIRSE'\n    });\n    this.basedatosService.puntosUserNewActivity(JSON.parse(localStorage.getItem('datauser')).data.uid, \n                                                   this.puntos, 40);\n\n            this.basedatosService.addUserInActividad(this.activity, \n              JSON.parse(localStorage.getItem('datauser')).data.mobilephone,\n              JSON.parse(localStorage.getItem('datauser')).data.username);\n\n            this.estado = \"ABANDONAR\"; \n\n    this.delay(2000).then(any=>{\n      dialogRef.close();\n      });\n  }\n\n  //acciones sobre actividad para el usuario: unirse/abandonar/eliminar\n  public accion()\n  {\n        if (!this.activity.tel_participantes.includes(JSON.parse(localStorage.getItem('datauser')).data.mobilephone))\n        {\n          if (this.activity.fecha < new Date() ){\n            alert(\"No se pueden abandonar actividades ya completadas!\")\n          }\n          else{\n            this.openAnimationUnirse();    \n          }\n          \n        }\n        else if(this.estado == \"ELIMINAR\"){\n          if (this.activity.fecha < new Date() ){\n            alert(\"No se pueden eliminar actividades ya completadas!\")\n          }\n          else{\n            this.openConfirmEliminar();\n            \n          }\n        }\n        else {\n          this.openConfirmAbandonar();\n        }\n  }\n\n  //acceder a detalles de la actividad\n  goIn(){\n    this.router.navigate(['/actividad-detail',this.activity.id]).then(() => {\n    });\n  }\n\n  delay(ms: number) {\n    return new Promise( resolve => setTimeout(resolve, ms) );\n}\n\n\n}","<div class=\"caja\">\n    <div class=\"firstrow\">\n        <div class=\"izq\">\n            <span class=\"titulo\" (click)=\"goIn()\">{{activity.nombre}} <mat-icon aria-hidden=\"false\" aria-label=\"info outline\">info_outline</mat-icon>\n            </span> <br>\n            <span class=\"usuario\" >Evento creado por <u>{{activity.creador_nombre}}</u></span>\n        </div>\n        <div class=\"der\">\n            <span>{{activity.deporte}}</span>\n        </div>\n\n    </div>\n\n    <div class=\"secondrow\">\n        <div class=\"item\">    \n            <img src={{foto_actividad}} style=\"inset-block:initial;\" width=\"80\" height=\"80\" alt=\"run\">\n        </div>\n        <div class=\"item\">\n            <button [ngClass]=\"(estado==='ELIMINAR')?'delete':((estado==='UNIRSE')?'unirse':'desunirse')\" mat-stroked-button (click)=\"accion()\">{{estado}}</button>\n            <!-- <button class=\"abandonar\" mat-stroked-button >ABANDONAR</button> -->\n            <!-- <button class=\"borrar\" mat-stroked-button >BORRAR</button> -->\n        </div>\n    </div>\n\n    <div class=\"thirdrow\">\n        <div class=\"lista\">\n            <div ><span class=\"lugar\" style=\"color: gray;\">LUGAR: </span> <span><b>{{activity.lugar}}</b></span> <br></div>\n            <div style=\"padding-top:2px;\"><span class=\"nivel\" style=\"color: gray;\">FECHA: </span><span><b>{{activity.fecha | date:'dd-MM-yyyy'}} at {{activity.fecha | date:'shortTime'}}</b></span><br></div>\n            <div style=\"padding-top:2px;\"><span class=\"particip\" style=\"color: gray;\">PARTICIPANTES: </span><span><b>{{activity.participantes}}</b></span><br></div>\n        </div>\n    </div>\n</div>","import { Component, OnInit, Inject } from '@angular/core';\nimport {MatDialog, MatDialogRef, MAT_DIALOG_DATA} from '@angular/material/dialog';\n\n@Component({\n  selector: 'app-confirm',\n  templateUrl: './confirm.component.html',\n  styleUrls: ['./confirm.component.scss']\n})\nexport class ConfirmComponent implements OnInit {\n\n  data:string\n\n  constructor(public dialogRef: MatDialogRef<ConfirmComponent>, public dialog: MatDialog,\n    @Inject(MAT_DIALOG_DATA) public message: string) { \n      this.data = message;\n\n  }\n\n  ngOnInit(): void {\n  }\n\n  onConfirm(): void {\n    // Close the dialog, return true\n    this.dialogRef.close(true);\n  }\n\n  onDismiss(): void {\n    // Close the dialog, return false\n    this.dialogRef.close(false);\n  }\n\n  congrat():boolean{\n    if (this.data==\"¡INVITACIÓN ENVIADA!\"){\n      return false;\n    }\n    else{\n      return true;\n    }\n  }\n  \n  unirse():boolean{\n    if (this.data==\"UNIRSE\"){\n      return false;\n    }\n    else{\n      return true;\n    }\n  }\n\n}\n","<div *ngIf=\"unirse()\">\n  <h1 mat-dialog-title>\n    Confirmación:\n  </h1>\n  \n  <div mat-dialog-content>\n    <p>{{data}}</p>\n  </div>\n  \n  \n  <div mat-dialog-actions>\n    <div class=\"flex-spacer\"></div>\n    <button *ngIf=\"congrat()\" mat-button (click)=\"onDismiss()\">No</button>\n    <button *ngIf=\"congrat()\" mat-raised-button color=\"primary\" (click)=\"onConfirm()\" #btnFocus=matButton [autofocus]=\"btnFocus.focus()\">Sí</button>\n    <button *ngIf=\"!congrat()\" mat-raised-button color=\"primary\" (click)=\"onConfirm()\">OK</button>\n  </div>\n</div>\n\n<div *ngIf=\"!unirse()\" class=\"loading\">\n  <svg class=\"checkmark\" viewBox=\"0 0 52 52\">\n    <circle class=\"checkmark__circle\" cx=\"26\" cy=\"26\" r=\"25\" fill=\"none\"/>\n    <path class=\"checkmark__check\" fill=\"none\" d=\"M14.1 27.2l7.1 7.2 16.7-16.8\"/></svg>\n  <h1 mat-dialog-title>\n    ¡Te has unido a la actividad!\n  </h1>\n\n</div>","import { Component, OnInit } from '@angular/core';\nimport {Basedatos} from '../../services/basedatos.service';\nimport {AuthService} from '../../services/auth.service';\nimport { User } from 'src/app/interfaces/user';\nimport { Subscription } from 'rxjs';\nimport { HttpClient } from '@angular/common/http';\nimport { MatDialog } from '@angular/material/dialog';\nimport {ConfirmComponent} from '../confirm/confirm.component';\n\n@Component({\n  selector: 'app-contacts',\n  templateUrl: './contacts.component.html',\n  styleUrls: ['./contacts.component.scss']\n})\nexport class ContactsComponent implements OnInit {\n\n  public users: User[];\n  public s_users: Subscription;\n  public puntos: number;\n  public result: boolean;\n\n  constructor(private basedatosService: Basedatos, public authService: AuthService,private http: HttpClient, public dialog: MatDialog) { }\n\n  ngOnInit(): void {\n    \n    this.s_users=this.basedatosService.getUsuarios().subscribe(data=>{\n      let nombreuser=JSON.parse(localStorage.getItem('datauser')).data.displayName;\n      this.users=data;\n      let index:number;\n      for (var a in this.users){\n        if(this.users[a].displayName==nombreuser){\n          index=+a;\n        }\n      }\n      this.users.splice(+index,1);\n    });\n  }\n\n  //llama a la funcion cloud mandarInvi() para mandar un email con los datos del user al otro usuario\n  mandarInvitacion(nombre:string, email:string){\n\n    const dialogRef = this.dialog.open(ConfirmComponent, {\n      width: '350px',\n      height: '250px',\n      data: '¿Estás seguro que deseas enviar un correo de invitación al usuario '+nombre+'?'\n    });\n    dialogRef.afterClosed().subscribe(dialogResult => {\n      this.result = dialogResult;\n      if (this.result == true) {   \n        var obj = { \n                  dest_email: email, \n                  dest_nombre: nombre, \n                  origen_username: JSON.parse(localStorage.getItem('datauser')).data.username, \n                  origen_email: JSON.parse(localStorage.getItem('datauser')).data.email, \n                  origen_tlf: JSON.parse(localStorage.getItem('datauser')).data.mobilephone, \n                  origen_foto: JSON.parse(localStorage.getItem('datauser')).data.photoURL };\n\n        this.http.post('https://cors-anywhere.herokuapp.com/https://us-central1-freedom-a2cc5.cloudfunctions.net/mandarInvi', obj, { responseType: 'text' }).subscribe(\n          res => {\n            console.log(res);\n          }\n        )\n        this.dialog.open(ConfirmComponent, {\n          width: '300px',\n          height: '200px',\n          data: '¡INVITACIÓN ENVIADA!'\n        });\n      }\n      else{\n      }\n    });\n  }\n  \n}\n","<div class=\"titulo\">Usuarios registrados:</div>\n\n<div class=\"container\">\n    <div class=\"item\" *ngFor=\"let person of users\">\n        \n        <div class=\"foto\" style=\"position: relative;\">\n            <img class=\"round\" src='{{person.photoURL}}' style=\"width: 75px;height: 75px;border-radius: 50%;\">\n                <img style=\"border-radius: 50%; position: absolute; top: 60%; left: 55%;\" src=\"../../../assets//medal1.svg\" height=\"35\" width=\"35\" [ngClass]=\"((person.puntos < 600)?'aparecer':'ocultar')\">\n                <img style=\"border-radius: 50%; position: absolute; top: 60%; left: 55%;\" src=\"../../../assets//medal2.svg\" height=\"35\" width=\"35\" [ngClass]=\"(((person.puntos > 599) && person.puntos < 1200)?'aparecer':'ocultar')\">\n                <img style=\"border-radius: 50%; position: absolute; top: 60%; left: 55%;\" src=\"../../../assets//medal3.svg\" height=\"35\" width=\"35\" [ngClass]=\"((person.puntos > 1199)?'aparecer':'ocultar')\">\n                <img style=\"border-radius: 50%; position: absolute; top: 60%; left: 55%;\" src=\"../../../assets//medal4.svg\" height=\"35\" width=\"35\" [ngClass]=\"((person.puntos >1999)?'aparecer':'ocultar')\">\n        </div>\n        \n        <div class=\"name\">\n            <p><button mat-raised-button class=\"button\" (click)=\"mandarInvitacion(person.displayName, person.email)\"> INVITAR </button></p>\n            <p>{{person.displayName}}</p>\n        </div>\n        <div class=\"citytel\">\n            <p>{{person.city | uppercase}}</p>\n        </div>\n    \n    </div>\n</div>\n\n","<mat-toolbar color=\"primary\" class=\"allheader\"> \n    <div class=\"buttons\" >\n        <button (click)=\"toggleSidenav()\" mat-stroked-button matTooltip=\"Abrir menu\" class=\"iconbutton\" >\n            <mat-icon aria-label=\"hamburguer\">menu</mat-icon>\n        </button>\n    </div>\n\n    <span class=\"flex-spacer\"></span>\n\n    <div class=\"foto\" style=\"margin:20px 3%\">\n        <a routerLink=\"/principal\"> \n        <img class=\"freedomlogo\" src=\"../../../assets/logo3.png\" style=\"inset-block:initial;\" alt=\"logo\">\n    </a>\n    </div>\n\n\n    <span class=\"flex-spacer\"></span>\n    \n        <div class=\"user_exit\">\n            <div class=\"campouser\" style=\"width: 300px; padding-top: 6px; text-align: end;\">\n                <span *ngIf=\"nombreuser\">Hola {{nombreuser}}!</span> &nbsp;&nbsp;\n            </div>\n            <div class=\"perfil\" matTooltip=\"Perfil\" style=\"width: 60px;\" (click)=\"redirectProfile()\">\n                \n                <div class=\"parent\" style=\"position: relative;\">\n                    <img style=\"border-radius: 50%;\" src=\"{{photouser}}\" height=\"45\" width=\"45\" [ngClass]=\"((photouser=='')?'ocultar':'aparecer')\">\n                    <img style=\"border-radius: 50%;\" src=\"../../../assets/profile.png\" height=\"50\"  [ngClass]=\"((photouser==null)?'aparecer':'ocultar')\">  \n                    <img style=\"border-radius: 50%; position: absolute; top: 50%; left: 50%;\" src=\"{{medallauser}}\" height=\"24\" width=\"24\">\n                </div>\n\n            </div>\n            <button (click)=\"logout()\" mat-icon-button style=\"margin: 0px 1%\" matTooltip=\"Salir\">\n                <i class=\"material-icons\">logout</i>\n            </button>\n        </div>\n    \n</mat-toolbar>  ","import { Component, OnInit } from '@angular/core';\nimport {Router, ActivatedRoute} from '@angular/router';\nimport { SidenavService } from '../../services/sidenav.service';\nimport {AuthService} from '../../services/auth.service';\nimport {Basedatos} from '../../services/basedatos.service';\nimport { User } from '../../interfaces/user';\n\n@Component({\n  selector: 'app-header',\n  templateUrl: './header.component.html',\n  styleUrls: ['./header.component.scss']\n})\nexport class HeaderComponent implements OnInit {\n\n  nombreuser:string;\n  photouser:string;\n  mispuntos:number;\n  medallauser:string;\n\n  constructor(public router: Router, public route: ActivatedRoute, \n    private sidenavService: SidenavService, public authService: AuthService, private basedatosService: Basedatos) { }\n\n  ngOnInit(): void {\n    if(this.authService.isLoggedIn == true) {\n      this.nombreuser=JSON.parse(localStorage.getItem('datauser')).data.displayName;\n      this.photouser=JSON.parse(localStorage.getItem('datauser')).data.photoURL;\n\n      this.basedatosService.ptsObs.subscribe((a) => {\n        this.mispuntos=a;\n        if (this.mispuntos >= 2000){\n          this.medallauser='../../../assets/medal4.svg'\n        }\n        else if(this.mispuntos >=1200 && this.mispuntos<2000){\n            this.medallauser='../../../assets/medal3.svg'\n        }\n        else if(this.mispuntos>=600 && this.mispuntos<1200){\n            this.medallauser='../../../assets/medal2.svg'\n        }\n        else if(this.mispuntos<600){\n            this.medallauser='../../../assets/medal1.svg'\n        }\n      })\n\n    }\n     \n  }\n\n  public redirectProfile(){\n    this.router.navigate(['/profile']).then(() => {\n    });\n  }\n  \n  toggleSidenav() {\n    this.sidenavService.toggle();\n  }\n\n  public logout(){\n    this.authService.SignOut();\n  }\n  \n  async delay(ms: number) {\n    await new Promise(resolve => setTimeout(()=>resolve(), ms));\n  }\n\n}\n","import { Component, OnInit } from '@angular/core';\nimport { MatDialog, MatDialogRef } from '@angular/material/dialog';\nimport { LoginComponent } from '../login/login.component';\nimport { RegisterComponent } from '../register/register.component';\nimport { HttpClient } from '@angular/common/http';\n\nimport { AngularFireFunctions } from '@angular/fire/functions';\nimport {FirebaseApp} from '@angular/fire';\n\n\n\n@Component({\n  selector: 'app-home',\n  templateUrl: './home.component.html',\n  styleUrls: ['./home.component.scss']\n})\nexport class HomeComponent implements OnInit {\n\n  constructor(public dialog: MatDialog, private http: HttpClient\n    ,private functions: AngularFireFunctions, private fbs: FirebaseApp) { }\n\n  ngOnInit(): void {\n  }\n\n  openLoginForm() {\n    this.dialog.open(LoginComponent, {width: '500px', height: '400px'});\n  }\n\n  openRegisterForm() {\n    this.dialog.open(RegisterComponent, {width: '80%', height: '70%'});\n  }\n\n}\n","<mat-toolbar color=\"primary\" class=\"header\">\n    <img src=\"../../../assets/logoonly.png\" style=\"inset-block:initial;\" width=\"50\" height=\"50\" alt=\"logo\">\n    <span class=\"flex-spacer\"></span>\n    <a mat-button (click)=\"openLoginForm()\"><span class=\"fa fa-sign-in fa-lg\"></span> Login</a>\n    <a mat-button (click)=\"openRegisterForm()\"><span class=\"fa fa-sign-in fa-lg\"></span> Register</a>\n</mat-toolbar>\n\n<div class=\"backgr\">\n\n    <div class=\"space\">&nbsp;</div>\n\n    <div class=\"imgbox\">\n        <!-- <span class=\"center-fit\" style=\"color: white; font-family: 'Fredoka One', cursive; font-size:70px;\">FREEDOM</span> -->\n        <img class=\"center-fit\"src=\"../../../assets/logoletters.svg\" style=\"inset-block:initial;\" width=\"1000\" height=\"auto\" alt=\"logo\">\n    </div>\n\n    <div style=\"height: 15%;\"></div>\n\n    <div class=\"caption\" style=\"font-weight: bold\"> FEEL FREE TO BE FREE  </div>\n    \n</div>\n\n<div class=\"backgr2\">\n    \n    <div style=\"height: 15%;\"></div>\n\n    <div class=\"caption\">\n        <div class=\"insidecaption\">\n            <div style=\"font-size: calc(15px + (30 - 15) * ((100vw - 300px) / (1600 - 300)));\"><i class=\"material-icons\">cached</i>&nbsp;<b>GIRA</b>\n            TU VIDA CON <b>FREEDOM</b></div>\n            \n            <br>\n            <div class=\"captionsmall\">\n            Únete a actividades deportivas en tu barrio y disfruta del deporte en compañia\n            </div>\n            <br>\n            <div class=\"captionsmall\">\n            Organiza actividades, gana puntos y comparte tu pasión por la aventura\n            </div>\n            <br>\n            \n            ALZA EL VUELO CON FREEDOM\n\n\n        </div>\n    </div>\n    \n</div>","import { Component, OnInit } from '@angular/core';\nimport {Router, ActivatedRoute} from '@angular/router';\nimport {MatDialog, MatDialogRef} from '@angular/material/dialog';\nimport {AuthService} from '../../services/auth.service';\nimport {Basedatos} from '../../services/basedatos.service';\nimport { NuevapasswordComponent } from '../nuevapassword/nuevapassword.component';\n \n\n@Component({\n  selector: 'app-login',\n  templateUrl: './login.component.html',\n  styleUrls: ['./login.component.scss']\n})\nexport class LoginComponent implements OnInit {\n\n  user = {email: '', password: '', remember: false};\n\n  constructor(public dialogRef: MatDialogRef<LoginComponent>, private router: Router, public authService: AuthService,\n    private basedatosService: Basedatos, public dialog: MatDialog) { }\n\n\n  ngOnInit(): void {}\n\n  onSubmit() {\n    console.log('User: ', this.user);\n    this.authService.SignIn(this.user.email, this.user.password);\n    this.dialogRef.close();    \n  }\n\n  nuevaPassword() {\n    this.dialog.open(NuevapasswordComponent, {width: '350px', height: '280px'});\n  }\n  \n}","<mat-toolbar color=\"primary\">\n    Login\n  <span class=\"flex-spacer\"></span>\n  <button mat-button mat-dialog-close>&times;</button>\n</mat-toolbar>\n\n<br>\n\n<form novalidate #loginForm=\"ngForm\" (ngSubmit)=\"onSubmit()\">\n\n  <mat-dialog-content>\n    <p>\n\n      <mat-form-field  appearance=\"fill\">\n        <input matInput placeholder=\"Email\" type=\"text\" [(ngModel)]=\"user.email\" name=\"email\" #username=\"ngModel\" required>\n        <mat-error *ngIf=\"username.errors?.required\">Email requerido</mat-error>\n      </mat-form-field>\n    </p>\n    <p>\n      <mat-form-field appearance=\"fill\">\n        <input matInput placeholder=\"Contraseña\" type=\"password\" [(ngModel)]=\"user.password\" name=\"password\" #password=\"ngModel\" required>\n        <mat-error *ngIf=\"password.errors?.required\">Contraseña requerida</mat-error>\n      </mat-form-field>\n    </p>\n  </mat-dialog-content>\n  <mat-dialog-actions>\n    <span class=\"flex-spacer\"></span>\n    \n    <button mat-button mat-dialog-close>Cancelar</button>\n    <button color=\"primary\" type=\"submit\" mat-stroked-button [disabled]=\"loginForm.form.invalid\">Entrar</button>\n  </mat-dialog-actions>\n  <br>\n  <div style=\"float: right;\">\n  <button mat-button mat-dialog-close (click)=\"nuevaPassword()\">Contraseña olvidada?</button>\n  </div>\n\n</form>\n","import { Component, OnInit } from '@angular/core';\nimport {FormControl, Validators} from '@angular/forms';\nimport {Router, ActivatedRoute} from '@angular/router';\nimport { Actividad } from '../../clases/actividad';\nimport { Basedatos } from '../../services/basedatos.service';\nimport {Location} from '@angular-material-extensions/google-maps-autocomplete';\nimport PlaceResult = google.maps.places.PlaceResult;\n\n\n\n\n@Component({\n  selector: 'app-nuevaactividad',\n  templateUrl: './nuevaactividad.component.html',\n  styleUrls: ['./nuevaactividad.component.scss']\n})\nexport class NuevaactividadComponent implements OnInit {\n\n  puntos:number;\n\n  constructor(public router: Router, public route: ActivatedRoute, private basedatosService: Basedatos) { }\n\n  ngOnInit(): void {\n    this.basedatosService.getPuntos(JSON.parse(localStorage.getItem('datauser')).data.uid);\n    this.basedatosService.ptsObs.subscribe((a) => {\n      this.puntos=a;\n  })\n  }\n\n  actividad:string;\n  Deporte:string;\n  selectedNivel:string;\n  data:Date;\n  provincia:string;\n  municipio:string;\n  lugar:string;\n  descript:string;\n  public latitude: number;\n  public longitude: number;\n  public prueba;\n\n  hour =new FormControl('', Validators.pattern('[0-2][0-9]:[0-5][0-9]'));\n  getErrorMessage() {\n    return this.hour.hasError('pattern') ? 'Not a valid hour' : '';\n  }\n  hora:string;\n\n  public crearActividad()\n  {\n      try{\n        var id:string=\"\";\n        var nombre=this.actividad;\n        var creador_nombre:string=\"\";\n        var creador_email:string=\"\";\n        var participantes_number=1;\n        var nivel=this.selectedNivel;\n\n        var hours = +this.hora.slice(0,2);\n        var minutes = +this.hora.slice(3);\n        this.data.setHours(hours, minutes);\n\n        var fecha=this.data;\n        if (fecha<new Date()){\n          throw new Error('Tiene que ser una fecha futura');\n        }\n\n        var lugar=this.prueba;\n        var deporte=this.Deporte;\n        var descripcion=this.descript;\n        var hora=this.hora;\n\n        var finalActivity= new Actividad(id,nombre,participantes_number,creador_nombre,creador_email,\n                              nivel,fecha,lugar,deporte,null,null,descripcion,hora, this.longitude, this.latitude);\n\n        finalActivity.creador_email = JSON.parse(localStorage.getItem('datauser')).data.email;\n        finalActivity.creador_nombre = JSON.parse(localStorage.getItem('datauser')).data.username;\n        finalActivity.tel_participantes = [JSON.parse(localStorage.getItem('datauser')).data.mobilephone];\n        finalActivity.username_participantes= [JSON.parse(localStorage.getItem('datauser')).data.username];\n\n        this.basedatosService.addActividad(finalActivity).then(() => \n        this.nav()\n        );\n\n        this.basedatosService.puntosUserNewActivity(JSON.parse(localStorage.getItem('datauser')).data.uid, \n                                                   this.puntos, 50);\n        \n      }\n      catch(error){\n        this.data=null;\n        alert('Hay campos incorrectos o vacíos.\\n'+error);\n      }\n  }\n\n  nav():void {\n    this.router.navigate(['/principal']).then(() => {\n      // window.location.reload();\n    });\n  }\n\n  onAutocompleteSelected(result: PlaceResult) {\n    this.prueba=result.formatted_address;\n  }\n\n  onLocationSelected(location: Location) {    \n    this.latitude = location.latitude;\n    this.longitude = location.longitude;\n  }\n\n  myFilter = (d: Date | null): boolean => {\n    const day = new Date();\n    day.setHours(0,0,0,0);\n    return day <= d;\n  }\n\n}","<div class=\"mycontainer\" >\n    <mat-toolbar color=\"primary\">\n        <h1>Organiza tu actividad</h1>\n    </mat-toolbar>\n    <br>\n    <div>\n        <form novalidate #loginForm=\"ngForm\">\n        <div class=\"seccion\" id=\"seccion_deporte\">\n            <div>\n                <h3>Nombre Actividad</h3>\n                <mat-form-field appearance=\"fill\">\n                    <mat-label>Actividad</mat-label>\n                    <input matInput placeholder=\"Ex. Pachanga en el Parque\" [(ngModel)]='actividad' #email=\"ngModel\" maxlength=\"27\" name=\"activity\" required>\n\n                </mat-form-field>\n            </div>\n            <div>\n                <h3>Deporte a Realizar</h3>\n                <mat-form-field>\n                <mat-label>Deporte</mat-label>\n                    <mat-select [(value)]=\"Deporte\" required>\n                        <mat-option></mat-option>\n                        <mat-option value=\"Futbol\">Futbol</mat-option>\n                        <mat-option value=\"Baloncesto\">Baloncesto</mat-option>\n                        <mat-option value=\"Running\">Running</mat-option>\n                        <mat-option value=\"Skate\">Skate</mat-option>\n                        <mat-option value=\"Trekking\">Trekking</mat-option>\n                        <mat-option value=\"Ciclismo\">Ciclismo</mat-option>\n                        <mat-option value=\"Patinaje\">Patinaje</mat-option>\n                        <mat-option value=\"Tenis\">Tenis</mat-option>\n                    </mat-select>\n                </mat-form-field>\n            </div> \n            <div>\n                <h3>Nivel Necesario</h3>\n                <mat-form-field>\n                <mat-label>Nivel</mat-label>\n                    <mat-select [(value)]=\"selectedNivel\" required>\n                        <mat-option></mat-option>\n                        <mat-option value=\"0\">0</mat-option>\n                        <mat-option value=\"1\">1</mat-option>\n                        <mat-option value=\"2\">2</mat-option>\n                        <mat-option value=\"3\">3</mat-option>\n                        <mat-option value=\"4\">4</mat-option>\n                        <mat-option value=\"5\">5</mat-option>\n                    </mat-select>\n                </mat-form-field>\n            </div>   \n        </div>\n        <div class=\"seccion\" id=\"seccion_fecha\"> \n            <div>\n                <h3>Fecha</h3>\n                <mat-form-field>\n                    <mat-label>Seleccione una fecha</mat-label>\n                    <input matInput [matDatepickerFilter]=\"myFilter\" [matDatepicker]=\"picker\"[(ngModel)]='data' name=\"fecha\" required>\n                    <mat-datepicker-toggle matSuffix [for]=\"picker\" ></mat-datepicker-toggle>\n                    <mat-datepicker #picker></mat-datepicker>\n                </mat-form-field>\n            </div>  \n            <div>\n                <h3>Hora</h3>\n                <mat-form-field appearance=\"fill\">\n                    <mat-label>Hora</mat-label>\n                    <input matInput placeholder=\"HH:MM\" [(ngModel)]='hora' pattern=\"[0-2][0-9]:[0-5][0-9]\" name=\"hora\" required >\n                    <mat-error *ngIf=\"hour.invalid\">{{getErrorMessage()}}</mat-error>\n                </mat-form-field>\n            </div>\n            <div id=\"mymap\">\n                <h3>Lugar</h3>\n                    <mat-google-maps-autocomplete placeholder=\"onnjn\" appearance=\"fill\" (onAutocompleteSelected)=\"onAutocompleteSelected($event)\"\n                    (onLocationSelected)=\"onLocationSelected($event)\">\n                    </mat-google-maps-autocomplete>\n            </div>\n        </div> \n  \n        <div class=\"seccion\" id=\"descript\">\n            <h3>Descripción actividad</h3>\n            <mat-form-field appearance=\"fill\">\n                <mat-label>Puntos relevantes</mat-label>\n                <textarea matInput  [(ngModel)]='descript' name=\"desc\" required></textarea>\n            </mat-form-field>\n        </div>\n\n        <div class=\"seccion\" id=\"seccion_botones\">\n            <button mat-raised-button color=\"primary\" (click)='crearActividad()'>Crear Actividad</button><br>\n            <button mat-raised-button (click)='nav()'>Cancelar</button>\n\n        </div>\n        </form>\n    </div>\n</div>","import { Component, OnInit } from '@angular/core';\nimport {AuthService} from '../../services/auth.service';\n\n\n@Component({\n  selector: 'app-nuevapassword',\n  templateUrl: './nuevapassword.component.html',\n  styleUrls: ['./nuevapassword.component.scss']\n})\nexport class NuevapasswordComponent implements OnInit {\n  public miemail:string;\n  constructor( public authService: AuthService) { }\n\n  ngOnInit(): void {\n  }\n\n}\n","<form novalidate #loginForm=\"ngForm\">\n  <h2>Introduce tu email para resetear la contraseña</h2>\n    <mat-dialog-content>\n      <p>\n        <mat-form-field  appearance=\"fill\">\n          <input matInput placeholder=\"Email\" type=\"text\" [(ngModel)]=\"miemail\" name=\"email\" #username=\"ngModel\" required>\n          <mat-error *ngIf=\"username.errors?.required\">Email requerido</mat-error>\n        </mat-form-field>\n      </p>\n    </mat-dialog-content>\n\n    <mat-dialog-actions>\n      <span class=\"flex-spacer\"></span>\n      <button mat-button mat-dialog-close>Cancelar</button>\n      <button color=\"primary\" type=\"submit\" mat-stroked-button [disabled]=\"loginForm.form.invalid\" (click)=\"authService.ForgotPassword(miemail)\">Enviar</button>\n    </mat-dialog-actions>\n  </form>\n  ","import { Component, OnInit, ViewChild, SimpleChange } from '@angular/core';\nimport {Router, ActivatedRoute} from '@angular/router';\nimport {Basedatos} from '../../services/basedatos.service';\nimport {Actividad} from '../../clases/actividad';\nimport {AuthService} from '../../services/auth.service';\nimport { Subscription } from 'rxjs';\nimport { Observable } from 'rxjs';\nimport { AngularFireDatabase, AngularFireList, AngularFireObject } from '@angular/fire/database';\nimport { MatSidenav } from '@angular/material/sidenav';\n\n\n@Component({\n  selector: 'app-paginaprincipal',\n  templateUrl: './paginaprincipal.component.html',\n  styleUrls: ['./paginaprincipal.component.scss']\n})\nexport class PaginaprincipalComponent implements OnInit {\n\n  public actividades: Actividad[];\n  public all_actividades: Actividad[] =[];\n  public aux_actividades: Actividad[] =[];\n  public filtered: Actividad[] =[];\n  public s_actividades: Subscription;\n  public tryname:string;\n  public tryphoto:string;\n  public isfilter:boolean = false;\n  // public dificultad: number[] = [0,1,2,3,4,5];\n  public listdeportes: string[] = [\"Futbol\", \"Baloncesto\", \"Running\", \"Skate\", \"Trekking\", \"Ciclismo\", \"Patinaje\", \"Tenis\"];\n  public deportes: boolean[] = [false,false,false,false,false,false,false,false];\n\n  @ViewChild('snav') sidenav: MatSidenav;\n\n\n  selectedDeporte:string;\n  public buscador:string;\n\n  constructor(public router: Router, public route: ActivatedRoute, private basedatosService: Basedatos, \n    public authService: AuthService, private db: AngularFireDatabase) {}\n\n  ngOnInit(): void {\n    \n    this.s_actividades=this.basedatosService.getActividades().subscribe(data=>{\n      this.all_actividades=[];\n      this.actividades=[];\n      this.actividades=data;\n      for(let i=0; i<this.actividades.length; i++){\n        let a = JSON.stringify(this.actividades[i]);\n        let b = (JSON.parse(a)).fecha.seconds;\n        this.actividades[i].fecha = new Date(b*1000);\n        if (b > (new Date().getTime() / 1000)){\n            this.all_actividades.push(this.actividades[i]);\n          }\n      }\n      this.actividades=this.all_actividades;\n    });\n  }\n\n  ngOnDestroy(){}\n  \n  \n  public getData(){\n    if(this.buscador!=''){\n      if (this.isfilter){\n        this.actividades=this.filtered.filter(c=>c.nombre.toLowerCase().includes(this.buscador.toLowerCase()));\n      }\n      else{\n        this.actividades=this.actividades.filter(c=>c.nombre.toLowerCase().includes(this.buscador.toLowerCase()));\n      }\n    }\n    else{\n      if (this.isfilter){\n        this.actividades=this.filtered;\n      }\n      else{\n        this.actividades=this.all_actividades;\n      }\n    }\n  }\n\n  //filtrar actividades\n  filter():void {\n    this.aux_actividades=[];\n    this.filtered=[];\n    this.buscador = '';\n    if (this.deportes.indexOf(true) > -1){\n      this.isfilter=true;\n      for (let i in this.listdeportes) {\n        if (this.deportes[i] == true){\n          let aux = this.all_actividades.filter(act => act.deporte.toLowerCase() === this.listdeportes[i].toLowerCase());\n          this.aux_actividades=this.aux_actividades.concat(aux);\n        }\n      }\n      this.actividades=this.aux_actividades;\n      this.filtered=this.aux_actividades;\n    }\n    else{\n      this.isfilter=false;\n      this.actividades = this.all_actividades;\n    }     \n  }\n\n  sidenavfun():void{\n    if (this.sidenav.opened){\n      this.sidenav.close()\n    }\n  }\n\n  enable():void{\n    this.isfilter = false;\n    for (let i in this.listdeportes){\n      this.deportes[i] = false;\n    }\n    this.actividades=this.all_actividades;\n  }\n\n}","<mat-sidenav-container fullscreen  [hasBackdrop]=\"false\">\n\n<mat-sidenav #snav position=\"end\" mode=\"over\">\n    <div class=\"sidenavcontainer\">\n        <mat-list>\n            <mat-list-item style=\"font-weight: bold;\"> DEPORTES: </mat-list-item>\n            <mat-list-item *ngFor=\"let deporte of listdeportes; index as i\">\n                <mat-checkbox [(ngModel)]=\"deportes[i]\" (ngModelChange)=\"filter()\">{{deporte}}</mat-checkbox>\n            </mat-list-item>\n            \n            <!-- <mat-list-item> DIFICULTAD: </mat-list-item>\n            <mat-list-item *ngFor=\"let nivel of dificultad\">\n                <mat-checkbox>{{nivel}}</mat-checkbox>\n            </mat-list-item> -->\n        </mat-list>\n        \n    </div>\n\n</mat-sidenav>\n    \n\n<!-- <h2>Hola {{tryname}}!</h2> -->\n<div id=\"barra_busqueda\">\n    <!-- Buscar -->\n    <div class=\"buscar\" (click)=\"sidenavfun()\">\n        <mat-form-field class=\"prueba1\" appearance=\"outline\" style=\"font-size: medium;\" >\n            <mat-label >Buscar actividades</mat-label>\n            <!-- <mat-label *ngIf=\"isfilter\">Buscar actividades (with filter)</mat-label> -->\n            <input matInput placeholder=\"Ex. Running madrid\" [(ngModel)]=\"buscador\" (ngModelChange)=\"getData()\" >\n        </mat-form-field>\n    </div>\n    \n    <!-- Filtros -->\n    <div class=\"filtrar\">\n        <button [ngClass]=\"isfilter?'prueba4':'prueba3'\" mat-stroked-button (click)=\"snav.toggle()\" (clickOutside)=\"snav.close()\">\n            <mat-icon>filter_list_alt</mat-icon>\n            </button>\n            <button *ngIf=\"isfilter\"  (click)=\"enable()\" mat-icon-button matTooltip=\"Quitar Filtro\">\n                <i class=\"material-icons\" style=\"color: red;\">delete</i>\n            </button>\n    </div>\n\n    <br>\n    <div class=\"cajas_container\" (click)=\"sidenavfun()\">\n        <div *ngFor=\"let actividad of actividades\">\n            <app-caja-actividad [activity]=\"actividad\"></app-caja-actividad>\n        </div>        \n    </div>\n    <div class=\"rest\" (click)=\"sidenavfun()\">\n\n    </div>\n\n</div>\n</mat-sidenav-container>\n","import { Component, OnInit } from '@angular/core';\nimport { User } from '../../interfaces/user';\nimport { Basedatos } from '../../services/basedatos.service';\nimport {AuthService} from '../../services/auth.service';\nimport {Router} from '@angular/router';\nimport {FormControl} from '@angular/forms';\n\n\n@Component({\n  selector: 'app-profile',\n  templateUrl: './profile.component.html',\n  styleUrls: ['./profile.component.scss']\n})\nexport class ProfileComponent implements OnInit {\n\n  public user: User=JSON.parse(localStorage.getItem('datauser')).data;\n  public fecha;\n\n  constructor(public basedatosService: Basedatos,public authService: AuthService, public router: Router) { }\n\n  ngOnInit(): void {\n    this.fecha = new Date(null);\n    this.fecha.setTime(JSON.parse(localStorage.getItem('datauser')).data.birthday.seconds*1000);\n  }\n\n  saveChanges():void {\n    this.basedatosService.editUsuario(this.user).then(a => {\n      this.authService.fetchDataUser(this.user.uid);\n      this.router.navigate(['/principal'])}\n      );\n  }\n\n  nav():void {\n    this.router.navigate(['/principal']);\n  }\n\n}\n","<div class=\"titulo\">Mi perfil:</div>\n\n\n<div class=\"container\">\n    <div class=\"item\">\n        <div class=\"container2\">\n            <div class=\"item\">\n                <img class=\"foto\" src={{user.photoURL}} alt=\"profile\">\n            </div>\n            <div class=\"item\">\n                <mat-form-field>\n                    <mat-label>Foto de perfil (URL):</mat-label>\n                    <input matInput placeholder=\"www.imgbd.com/i3jd.jpg\" [(ngModel)]=\"user.photoURL\">\n                </mat-form-field>\n            </div>\n        </div>\n    </div>\n    \n    <div class=\"item\">\n        <div class=\"container2\">\n            <div class=\"item\">\n                <mat-form-field>\n                    <mat-label>Nombre completo:</mat-label>\n                    <input matInput placeholder=\"Paco Antonio\" [(ngModel)]=\"user.displayName\">        \n                </mat-form-field>\n            </div>\n\n            <div class=\"item\">\n                <mat-form-field>\n                    <mat-label>Email de usuario:</mat-label>\n                    <input matInput placeholder=\"paco@gmail.com\" [(ngModel)]=\"user.email\" disabled>        \n                </mat-form-field>\n            </div>\n            \n        </div>\n    </div>\n\n    <span class=\"spacer\"></span>\n    \n    <div class=\"item\">\n        <div class=\"container2\">\n            <div class=\"item\">\n                <mat-form-field>\n                    <input matInput placeholder=\"Fecha Nacimiento\" value=\"{{fecha | date:'longDate'}}\" disabled>        \n\n                </mat-form-field>\n            </div>\n\n            <div class=\"item\">\n                <mat-form-field>\n                    <mat-label>Ciudad de residencia:</mat-label>\n                    <input matInput placeholder=\"Madrid\" [(ngModel)]=\"user.city\">        \n                </mat-form-field>\n            </div>\n            \n            <div class=\"item\">\n                <mat-form-field appearance=\"fill\">\n                    <mat-label>Teléfono:</mat-label>\n                    <input matInput placeholder=\"XXXXXXXXX\" type=\"text\" [(ngModel)]=\"user.mobilephone\" pattern=\"^\\(?[\\d]{3}\\)?[\\d]{3}[\\s-]?[\\d]{3}$\">\n                </mat-form-field>\n            </div>\n\n            <div class=\"item\">\n                <mat-form-field appearance=\"fill\">\n                    <mat-label>DNI:</mat-label>\n                    <input matInput placeholder=\"XXXXXXXXX\" type=\"text\" [(ngModel)]=\"user.dni\">\n                </mat-form-field>\n            </div>\n            \n        </div>\n        *Los cambios se harán efectivos trás volver a hacer log in\n\n    </div>\n\n</div>\n\n\n<div class=\"container\">\n    <button mat-raised-button color=\"primary\" (click)='saveChanges()'>Guardar Cambios</button>\n    <button mat-raised-button (click)='nav()'>Cancelar</button>\n</div>\n","import { Component, OnInit } from '@angular/core';\nimport { Basedatos } from 'src/app/services/basedatos.service';\n\n@Component({\n  selector: 'app-puntuacion',\n  templateUrl: './puntuacion.component.html',\n  styleUrls: ['./puntuacion.component.scss']\n})\nexport class PuntuacionComponent implements OnInit {\n\n  mispuntos:number;\n  pintarpuntos:number;\n  constructor(private basedatosService:Basedatos) { }\n\n  ngOnInit(): void {\n    this.basedatosService.getPuntos(JSON.parse(localStorage.getItem('datauser')).data.uid);\n    this.basedatosService.ptsObs.subscribe((a) => {\n      this.mispuntos=a;\n      if(this.mispuntos>2000){\n        this.pintarpuntos=100;\n      }\n      else{\n        this.pintarpuntos=this.mispuntos/20;\n      }\n    })\n  }\n\n  medal2():boolean{\n    if (this.mispuntos<600){\n      return false;\n    }\n    else{\n      return true;\n    }\n  }\n\n  medal3():boolean{\n    if (this.mispuntos<1200){\n      return false;\n    }  \n    else{\n      return true;\n    }\n  }\n\n  medal4():boolean{\n    if (this.mispuntos<2000){\n      return false;\n    }  \n    else{\n      return true;\n    }\n  }\n\n}\n","<div class=\"titulo\">Mi puntuación</div>\n\n<div class=\"container\">\n    <div class=\"item\">\n        <div class=\"progressbar\">\n            <div class=\"outer\">\n                <span class=\"puntos\">{{mispuntos}}/2000 puntos</span>\n            </div>\n            <div class=\"outer\">\n                <mat-progress-bar class=\"mat-progress-bar\" value=\"{{pintarpuntos}}\" mode=\"determinate\" color=\"warn\">\n                </mat-progress-bar>\n            </div>\n        </div>\n\n    </div>\n    \n</div>\n\n<div class=\"titulo\">Medallas: </div>\n<div class=\"container\">\n    <div class=\"item2\">\n        <div class=\"fotoouter\">\n            <img class=\"foto\" src=\"../../../assets//medal1.svg\">\n        </div>\n        <div class=\"name\">\n            <p>Novato</p>\n        </div>\n        <div class=\"citytel\">\n            <p>Acabas de llegar a Freedom, empieza a participar!</p>\n            <p>0 pts</p>\n        </div>\n    </div>\n    <div class=\"item2\">\n        <div class=\"fotoouter\">\n            <img [ngClass]=\"((medal2())?'foto':'fotodim')\" src=\"../../../assets//medal2.svg\">\n            <i *ngIf=\"!medal2()\"class=\"material-icons\">lock_outline</i>\n        </div>\n        <div class=\"name\">\n            <p>Intermedio</p>\n        </div>\n        <div class=\"citytel\">\n            <p>Vas por el buen camino, sigue participando!</p>\n            <p>600 pts</p>\n        </div>\n    </div>\n    <div class=\"item2\">\n        <div class=\"fotoouter\">\n            <img [ngClass]=\"((medal3())?'foto':'fotodim')\" src=\"../../../assets//medal3.svg\">\n            <i *ngIf=\"!medal3()\"class=\"material-icons\">lock_outline</i>\n        </div>\n        <div class=\"name\">\n            <p>Pro</p>\n        </div>\n        <div class=\"citytel\">\n            <p>Eres todo un deportista, puedo llamarte fuertaco?</p>\n            <p>1200 pts</p>\n        </div>\n    </div>\n    <div class=\"item2\">\n        <div class=\"fotoouter\">\n            <img [ngClass]=\"((medal4())?'foto':'fotodim')\" src=\"../../../assets//medal4.svg\">\n            <i *ngIf=\"!medal4()\"class=\"material-icons\">lock_outline</i>\n        </div>\n        <div class=\"name\">\n            <p>Leyenda</p>\n        </div>\n        <div class=\"citytel\">\n            <p>Has hecho hecho de Freedom tu segunda familia, felicidades!</p>\n            <p>2000 pts</p>\n        </div>\n    </div>\n</div>\n\n<div class=\"titulo\">Instrucciones: </div>\n<div class=\"container\">\n    <div class=\"item\">\n        <div class=\"textdesc\">- Consigue 50 puntos por cada actividad que creas</div>\n        <div class=\"textdesc\">- Consigue 40 puntos por cada actividad a la que te unes</div>\n    </div>\n</div>\n<br>\n","import { Component, OnInit } from '@angular/core';\nimport {Router, ActivatedRoute} from '@angular/router';\nimport { AuthService } from \"../../services/auth.service\";\nimport {MatDialog, MatDialogRef} from '@angular/material/dialog';\nimport { User } from \"../../interfaces/user\";\nimport { Actividad } from '../../clases/actividad';\nimport {Basedatos} from '../../services/basedatos.service';\nimport { Subscription } from 'rxjs';\nimport {SubirfotoComponent} from '../subirfoto/subirfoto.component';\n\n\n\n\n@Component({\n  selector: 'app-register',\n  templateUrl: './register.component.html', \n  styleUrls: ['./register.component.scss']\n})\n\nexport class RegisterComponent implements OnInit {\n\n  uid: string;\n  email; \n  myemail:string;\n  username;\n  myusername:string;\n  displayName: string; \n  photoURL: string = \"https://image.flaticon.com/icons/png/512/64/64572.png\"; \n  checkphotoURL: string; //foto url del usuario para perfil\n  \n  mobilephone: string;\n  birthday: string;\n  city: string; \n  dni: string;\n  photoDNI:string;\n  password:string;\n\n  startDate:Date;\n\n  constructor(public dialogRef: MatDialogRef<RegisterComponent>, \n    public authService: AuthService, private basedatosService: Basedatos,public dialog: MatDialog) { }\n\n  ngOnInit(): void {\n    this.startDate=new Date;\n    this.startDate.setFullYear(this.startDate.getFullYear()-18);\n  }\n\n  crearUsuario(){\n    try{\n      this.authService.SignUp(this.myemail, this.password, this.photoURL, this.displayName, this.myusername, this.mobilephone, this.birthday, this.city, this.dni); \n      this.openRegisterForm();\n    }\n    catch(error){\n    }\n  }\n\n  openRegisterForm() {\n    this.dialog.open(SubirfotoComponent, {width: '80%', height: '250px'});\n    this.dialogRef.close();\n  }\n\n  myFilter = (d: Date | null): boolean => {\n    const day = new Date();\n    day.setFullYear(day.getFullYear()-18);\n    day.setHours(0,0,0,0);\n    return day > d;\n  }\n\n}","<div class=\"displayTable\">\n  <div class=\"displayTableCell\">\n\n    <div class=\"authBlock\">\n\n      <mat-toolbar color=\"primary\">\n       Crear cuenta\n      <span class=\"flex-spacer\"></span>\n      <button mat-button mat-dialog-close>&times;</button>\n    </mat-toolbar>\n    <br>\n\n    <form novalidate #loginForm=\"ngForm\">\n            <div class=\"seccion\" #UserData>\n              <div>\n                <h3>Nombre de Usuario</h3>\n                <mat-form-field  appearance=\"fill\">\n                  <input matInput placeholder=\"Paco7\" type=\"text\" [(ngModel)]=\"myusername\" name=\"username\" #email=\"ngModel\" required>\n                </mat-form-field>\n              </div>\n              <div>\n                <h3>Email address</h3>\n                <mat-form-field  appearance=\"fill\">\n                  <input matInput placeholder=\"paco@gmail.com\" type=\"text\" [(ngModel)]=\"myemail\" name=\"email\" #email=\"ngModel\" required>\n                </mat-form-field>\n              </div>\n              <div>\n                <h3>Contraseña</h3>\n                <mat-form-field appearance=\"fill\">\n                  <mat-label>Tu contraseña</mat-label>\n                  <input matInput type=\"password\" [(ngModel)]=\"password\" name=\"password\" #email=\"ngModel\" required>\n                </mat-form-field>\n              </div>\n            </div>\n\n            <div class=\"seccion\" #PersonalData>\n              <div>\n                <h3>Nombre Completo</h3>\n                <mat-form-field appearance=\"fill\">\n                  <mat-label>Tu nombre</mat-label>\n                  <input matInput placeholder=\"Paco García\" type=\"text\" [(ngModel)]=\"displayName\" name=\"displayName\" #email=\"ngModel\" required>\n                </mat-form-field>\n              </div>\n              <div>\n                <h3>Fecha de Nacimiento</h3>\n                <mat-form-field appearance=\"fill\">\n                  <mat-label>DD/MM/AAAA</mat-label>\n\n                  <input matInput [matDatepickerFilter]=\"myFilter\" [matDatepicker]=\"picker\" [(ngModel)]='birthday' name=\"cumple\" required>\n                    <mat-datepicker-toggle matSuffix [for]=\"picker\" ></mat-datepicker-toggle>\n                    <mat-datepicker [startAt]=\"startDate\" #picker></mat-datepicker>\n\n                </mat-form-field>\n              </div>\n              <div>\n                <h3>Ciudad de Residencia</h3>\n                <mat-form-field appearance=\"fill\">\n                  <mat-label>Tu ciudad</mat-label>\n                  <input matInput placeholder=\"Madrid\" type=\"text\" [(ngModel)]=\"city\" name=\"city\" #email=\"ngModel\" required>\n                </mat-form-field>\n              </div>\n            </div>\n\n            <div class=\"seccion\" #SensitiveData>\n              <div>\n                <h3>Número de Teléfono Móvil</h3>\n                <mat-form-field appearance=\"fill\">\n                  <mat-label>Tu número</mat-label>\n                  \n                  <input matInput placeholder=\"XXXXXXXXX\" type=\"text\" [(ngModel)]=\"mobilephone\" name=\"mobilephone\" \n                      #email=\"ngModel\" pattern=\"^\\(?[\\d]{3}\\)?[\\d]{3}[\\s-]?[\\d]{3}$\" required>\n                </mat-form-field>\n              </div>\n              <div>\n                <h3>DNI</h3>\n                <mat-form-field appearance=\"fill\">\n                  <mat-label>Tu DNI</mat-label>\n                  <input matInput placeholder=\"XXXXXXXXA\" type=\"text\" [(ngModel)]=\"dni\" name=\"dni\" #email=\"ngModel\"  required>\n                </mat-form-field>\n              </div>\n              <div>\n                <h3>Foto de Perfil</h3>\n                <mat-form-field appearance=\"fill\">\n                  <mat-label>URL foto perfil</mat-label>\n                  <input matInput placeholder=\"www.imgbd.com/photo123.jpg\" type=\"text\" [(ngModel)]=\"photoURL\" name=\"photoURL\" #email=\"ngModel\"  required>\n                </mat-form-field>\n              </div>\n            </div>\n\n            <div id=\"Submit\">\n              <button color=\"primary\" type=\"submit\" mat-stroked-button (click)='crearUsuario()' [disabled]=\"loginForm.form.invalid\">Continuar</button>\n            </div>\n    </form>\n    </div>\n\n  </div>\n","<mat-sidenav-container class=\"contenido\" fullscreen>\n    <!-- Barra lateral -->\n    <mat-sidenav #snav mode={{mode_sidenav}} [(opened)]=\"opened\">\n        <div class=\"navcontainer\">\n            <a mat-raised-button (click)=\"redirectActividad()\" class=\"nueva_actividad\"> \n                <img src=\"../../../assets/mas.svg\" style=\"inset-block:initial; margin-right: 10px;\" width=\"50\" height=\"50\" alt=\"logo\">\n               <u>Crear actividad</u> \n            </a>\n            <a mat-raised-button  class=\"navitem\" (click)=\"redirectPts()\"> \n                <div style=\"width: 50px; text-align: center; float: left; margin-top: 7px; margin-right: 15px;\">                \n                    <img src=\"{{medallauser}}\" width=\"40\" height=\"40\" alt=\"logo\">\n                </div> \n                <div style=\" width: 131px; text-align: center; float:right;\"> <span>{{mispuntos}}/2000 puntos</span>\n                    <mat-progress-bar style=\"height: 12px; width: 130px; border-radius: 10px;\" mode=\"determinate\" value=\"{{pintarpuntos}}\" color=\"warn\">\n                    </mat-progress-bar>\n                </div>    \n            </a>\n            <a mat-raised-button  class=\"navitem\" (click)=\"redirectAct()\"> \n                <img src=\"../../../assets/search1.svg\" style=\"inset-block:initial; margin:10px;\" width=\"30\" height=\"30\" alt=\"logo\">\n                Buscar actividades\n            </a>\n            <a mat-raised-button  class=\"navitem\" (click)=\"redirectContacts()\"> \n                <img src=\"../../../assets/equipo.svg\" style=\"inset-block:initial; margin:10px;\" width=\"30\" height=\"30\" alt=\"logo\">\n                Usuarios de Freedom\n            </a>\n            <a mat-raised-button  class=\"navitem\" (click)=\"redirectActCreada()\"> \n                <img src=\"../../../assets/edit1.svg\" style=\"inset-block:initial; margin:10px;\" width=\"30\" height=\"30\" alt=\"logo\">\n                Actividades creadas\n            </a>\n            <a mat-raised-button  class=\"navitem\" (click)=\"redirectActProxima()\"> \n                <img src=\"../../../assets/schedule.svg\" style=\"inset-block:initial; margin:10px;\" width=\"30\" height=\"30\" alt=\"logo\">\n               Próximas actividades\n            </a>\n            <a mat-raised-button  class=\"navitem\" (click)=\"redirectActCompleta()\"> \n                <img src=\"../../../assets/finish.svg\" style=\"inset-block:initial;\" width=\"30\" height=\"30\" alt=\"logo\">\n                Actividades completadas\n            </a>\n        </div>\n\n\n        <div class=\"user_exit2\" style=\"font-size: medium; color: white; margin-top: 10px;\">\n            <span *ngIf=\"nombreuser\">Hola {{nombreuser}}!</span> &nbsp;&nbsp;\n            </div>\n\n        <div class=\"user_exit user_exit2\">\n            \n            <div class=\"foto\" matTooltip=\"Perfil\" (click)=\"redirectProfile()\">\n                <div class=\"parent\" style=\"position: relative;\">\n                    <img style=\"border-radius: 50%;\" src=\"{{photouser}}\" height=\"45\" width=\"45\" [ngClass]=\"((photouser=='')?'ocultar':'aparecer')\">\n                    <img style=\"border-radius: 50%;\" src=\"../../../assets/profile.png\" height=\"50\"  [ngClass]=\"((photouser==null)?'aparecer':'ocultar')\">  \n                    <img style=\"border-radius: 50%; position: absolute; top: 50%; left: 50%;\" src=\"{{medallauser}}\" height=\"24\" width=\"24\">\n                </div>                \n                \n            </div>\n            <button (click)=\"logout()\" mat-icon-button style=\"margin: 0px 1%\" matTooltip=\"Salir\">\n                <i class=\"material-icons\">logout</i>\n            </button>\n            \n        </div>\n\n\n    </mat-sidenav>\n\n    <!-- Contenido principal -->\n    <mat-sidenav-content>\n        <router-outlet></router-outlet>\n    </mat-sidenav-content>\n\n</mat-sidenav-container>\n\n","import { Component, OnInit, ViewChild, AfterViewInit } from '@angular/core';\nimport { HostListener } from \"@angular/core\";\nimport { MatSidenav } from '@angular/material/sidenav';\nimport { SidenavService } from '../../services/sidenav.service';\nimport {AuthService} from '../../services/auth.service';\nimport { Router , ActivatedRoute} from \"@angular/router\";\nimport {Basedatos} from '../../services/basedatos.service';\n\nimport {ActividadProximasComponent} from '../actividad-proximas/actividad-proximas.component';\n\n\n@Component({\n  selector: 'app-sidenav',\n  templateUrl: './sidenav.component.html',\n  styleUrls: ['./sidenav.component.scss']\n})\nexport class SidenavComponent implements AfterViewInit {\n\n  \n  screenHeight: number;\n  screenWidth: number;\n  mode_sidenav:string = \"side\"\n\n  opened = true;\n\n  @ViewChild('snav') sidenav: MatSidenav;\n\n  constructor(private sidenavService: SidenavService, public authService: AuthService, public router: Router, public route: ActivatedRoute, \n    private basedatosService: Basedatos) { \n    this.getScreenSize();\n\n    \n  }\n\n  nombreuser:string;\n  photouser:string;\n  medallanumero:number;\n  medallauser:string;\n  mispuntos:number;\n  pintarpuntos:number;\n\n  //permite al menu lateral cambiar de vista dependiendo de la pantalla\n  @HostListener('window:resize', ['$event'])\n  getScreenSize(event?) {\n        this.screenHeight = window.innerHeight;\n        this.screenWidth = window.innerWidth;\n        if (this.screenWidth < 768){\n            this.mode_sidenav = \"\";\n            this.opened = false;\n        }\n        else{\n            this.mode_sidenav = \"side\";\n            this.opened = true;\n        }\n  }\n\n  ngOnInit(): void {\n    if(this.authService.isLoggedIn == true) {\n      this.nombreuser=JSON.parse(localStorage.getItem('datauser')).data.displayName;\n      this.photouser=JSON.parse(localStorage.getItem('datauser')).data.photoURL;\n      this.basedatosService.getPuntos(JSON.parse(localStorage.getItem('datauser')).data.uid);\n\n        this.basedatosService.ptsObs.subscribe((a) => {\n          this.mispuntos=a;\n          if(this.mispuntos>2000){\n            this.pintarpuntos=100;\n          }\n          else{\n            this.pintarpuntos=this.mispuntos/20;\n          }\n\n          if (this.mispuntos >= 2000){\n            this.medallauser='../../../assets/medal4.svg'\n          }\n          else if(this.mispuntos >=1200 && this.mispuntos<2000){\n              this.medallauser='../../../assets/medal3.svg'\n          }\n          else if(this.mispuntos>=600 && this.mispuntos<1200){\n              this.medallauser='../../../assets/medal2.svg'\n          }\n          else if(this.mispuntos<600){\n              this.medallauser='../../../assets/medal1.svg'\n          }\n      })\n\n       \n\n   }\n  }\n\n  ngAfterViewInit(): void {\n    this.sidenavService.setSidenav(this.sidenav);\n  }\n\n  public logout(){\n    this.authService.SignOut();\n  }\n\n  public redirectActividad(){\n    this.router.navigate(['/actividad-nueva']).then(() => {\n    });\n  }\n\n  async delay(ms: number) {\n    await new Promise(resolve => setTimeout(()=>resolve(), ms));\n}\n\npublic redirectProfile(){\n  this.router.navigate(['/profile']).then(() => {\n  });\n}\n\npublic redirectActCreada(){\n  this.router.navigate(['/actividades-creadas']).then(() => {\n  });\n}\n\npublic redirectActProxima(){\n  this.router.navigate(['/actividades-proximas']).then(() => {\n  });\n;\n}\n\npublic redirectActCompleta(){\n  this.router.navigate(['/actividades-completadas']).then(() => {\n  });\n}\n\npublic redirectAct(){\n  this.router.navigate(['/principal']).then(() => {\n  });\n}\n\npublic redirectContacts(){\n  this.router.navigate(['/contactos']).then(() => {\n  });\n}\npublic redirectPts(){\n  this.router.navigate(['/puntuacion']).then(() => {\n  });\n}\n\n}\n","import { Component, OnInit } from '@angular/core';\nimport {Router, ActivatedRoute} from '@angular/router';\nimport { AuthService } from \"../../services/auth.service\";\nimport { Subscription } from 'rxjs';\nimport { AngularFireStorage, AngularFireStorageReference, AngularFireUploadTask } from '@angular/fire/storage';\nimport { Observable } from 'rxjs';\nimport { finalize } from 'rxjs/operators';\nimport {Basedatos} from '../../services/basedatos.service';\nimport {MatDialog, MatDialogRef} from '@angular/material/dialog';\n\n\n@Component({\n  selector: 'app-subirfoto',\n  templateUrl: './subirfoto.component.html',\n  styleUrls: ['./subirfoto.component.scss']\n})\n\nexport class SubirfotoComponent implements OnInit {\n\n  constructor(private afStorage: AngularFireStorage, private basedatos:Basedatos,\n     private af: AuthService,public dialogRef: MatDialogRef<SubirfotoComponent>) { }\n\n  ngOnInit(): void {}\n\n  ref: AngularFireStorageReference;\n  task: AngularFireUploadTask;\n  downloadURL: Observable<string>;\n  image: string = null\n\n  //subir foto a firebase storage y obtener link\n  upload(event){\n    const id = Math.random().toString(36).substring(2);\n    this.ref = this.afStorage.ref(id);\n    this.task = this.ref.put(event.target.files[0]);\n    this.task.snapshotChanges().pipe(\n      finalize(() => {\n        this.downloadURL = this.ref.getDownloadURL()\n        this.downloadURL.subscribe(url => (this.image = url));\n      })\n    )\n    .subscribe(); \n  }\n\n  //guardar link foto en usuario actual\n  subirfoto(){\n    this.basedatos.subirDNI(this.af.userData.uid, this.image);\n    this.dialogRef.close();\n    this.af.AuxSignIn(this.af.userData.uid);\n  }\n \n}\n\n","\n<h1>Verificación con DNI</h1>\n<h5 class=\"card-title\">Seleccione el fichero</h5>\n\n<input type=\"file\" (change)=\"upload($event)\" accept=\".png,.jpg,.jpeg\" />\n<br>\nSi su documento DNI no coincide con el número de DNI o fecha de nacimiento, su cuenta será cancelada.\n\n<button [ngClass]=\"((image==null)?'borrar':'aparecer')\" mat-stroked-button (click)=\"subirfoto()\" style=\"margin-top: 40px;\">Finalizar</button>","import { Injectable } from '@angular/core';\nimport { CanActivate, ActivatedRouteSnapshot, RouterStateSnapshot, Router } from '@angular/router';\nimport { AuthService } from \"../services/auth.service\";\nimport { Observable } from 'rxjs';\n\n@Injectable({\n  providedIn: 'root'\n})\n\nexport class AuthGuard implements CanActivate {\n  \n  constructor(\n    public authService: AuthService,\n    public router: Router\n  ){ }\n\n  //comprueba si hay un usuario logueado con un método del service auth\n  canActivate(\n    next: ActivatedRouteSnapshot,\n    state: RouterStateSnapshot): Observable<boolean> | Promise<boolean> | boolean {\n    if(this.authService.isLoggedIn !== true) {\n      this.router.navigate(['/home'])\n    }\n    return true;\n  }\n\n}","import { Injectable, NgZone } from '@angular/core';\nimport {User } from '../interfaces/user';\nimport { auth } from 'firebase/app';\nimport { AngularFireAuth } from \"@angular/fire/auth\";\nimport { AngularFirestore, AngularFirestoreDocument } from '@angular/fire/firestore';\nimport { Router } from \"@angular/router\";\nimport {from} from 'rxjs';\nimport {filter} from 'rxjs/operators';\n\n\n@Injectable({\n  providedIn: 'root'\n})\n\nexport class AuthService {\n  userData: any; // Guardar info usuario al loguearse\n  auxuserData:any;\n  fetcheddata;\n\n  constructor(\n    public afs: AngularFirestore,   // Inject Firestore service\n    public afAuth: AngularFireAuth, // Inject Firebase auth service\n    public router: Router,  \n    public ngZone: NgZone, // NgZone service to remove outside scope warning\n  ) {    \n    /* Usamos local storage para guardar info usuario,\n    Se borra al hacer log out */\n    this.afAuth.authState.subscribe(user => {\n      if (user) {\n        this.userData=user;\n        localStorage.setItem('user', JSON.stringify(this.userData));\n        JSON.parse(localStorage.getItem('user'));\n\n      } else {\n        localStorage.setItem('user', null);\n        localStorage.setItem('datauser', null);\n        JSON.parse(localStorage.getItem('user'));\n        JSON.parse(localStorage.getItem('datauser'));\n      }\n    })\n  }\n\n  // Log in con email/contrasena\n  SignIn(email, password) {\n    return this.afAuth.signInWithEmailAndPassword(email, password)\n      .then((result) => {\n\n        this.fetchDataUser(result.user.uid).then(\n          data => {\n           this.auxuserData=data;\n           this.ngZone.run(() => {\n            this.router.navigate(['/principal']);\n          });\n         });\n      }).catch((error) => {\n        window.alert(error.message)\n      })\n  }\n\n  //Usado tras subir foto dni a BBDD\n  AuxSignIn(id:string){\n    this.fetchDataUser(id).then(\n      data => {\n       this.auxuserData=data;\n       this.ngZone.run(() => {\n        this.router.navigate(['/principal']);\n      });\n     });\n  }\n\n  /*Guardar info usuario en fichero local, \n  al salir se borra*/\n  public async fetchDataUser(uid){\n    try {\n    const snapshot = await this.afs.collection('users').doc(uid).get().toPromise().then(data =>\n    this.fetcheddata=data)\n\n    const data = snapshot.data();\n    localStorage.setItem('datauser', JSON.stringify({data}));\n    JSON.parse(localStorage.getItem('datauser'));\n    \n    return data;\n  }\n    catch(error){\n      console.log(error)\n    }\n  }\n\n  // Registro con email/contrasena\n  SignUp(email, password, photo, fullname, username, phone, birth, city, dni) {\n    return this.afAuth.createUserWithEmailAndPassword(email, password)\n      .then((result) => {\n\n        this.SetUserData(result.user, photo, fullname, username, phone, birth, city, dni);\n      }).catch((error) => {\n        window.alert(error.message)\n        this.router.navigate(['/home']).then(() => {\n          window.location.reload();\n        });\n      })\n  }\n\n\n  /* Salvar toda la info del usuario en firebase tras el registro */\n  SetUserData(user,photo, fullname, username, phone, birth, city, dni) {\n    const userRef: AngularFirestoreDocument<any> = this.afs.doc(`users/${user.uid}`);\n    const userData: User = {\n      uid: user.uid,\n      email: user.email,\n      displayName: fullname,\n      photoURL: photo,\n      username: username,\n      mobilephone: phone,\n      birthday: birth,\n      city: city,\n      dni: dni,\n      photoDNI:\"\",\n      puntos:0,\n    }\n    return userRef.set(userData, {\n      merge: true\n    })\n  }\n\n  // Cerrar sesion\n  SignOut() {\n    return this.afAuth.signOut().then(() => {\n      localStorage.removeItem('user');\n      localStorage.removeItem('datauser');\n\n      this.router.navigate(['/home']).then(() => {\n        // window.location.reload();\n      });\n      \n    })\n  }\n\n   // Resetear contrasena olvidada\n   ForgotPassword(passwordResetEmail) {\n    return this.afAuth.sendPasswordResetEmail(passwordResetEmail)\n    .then(() => {\n      window.alert('Password reset email sent, check your inbox.');\n    }).catch((error) => {\n      window.alert(error)\n    })\n  }\n\n   // Usado en Guard para restringir el routing si user no logueado\n  get isLoggedIn(): boolean {\n    const user = JSON.parse(localStorage.getItem('user'));\n    return (user !== null) ? true : false;\n  }\n\n}","import { Injectable, EventEmitter } from '@angular/core';\nimport { AngularFirestore, AngularFirestoreCollection } from '@angular/fire/firestore';\nimport { AngularFireModule } from '@angular/fire';\nimport { AngularFireStorageModule } from '@angular/fire/storage';\nimport { Observable, Subject } from 'rxjs';\nimport {Actividad} from '../clases/actividad';\nimport { User } from \"../interfaces/user\";\nimport {AuthService} from '../services/auth.service';\nimport { HttpClient } from '@angular/common/http';\n\n\n@Injectable({\n providedIn: 'root'\n})\n\nexport class Basedatos{\n\n  public userFullName:string;\n  public userPhoto:string;\n  private actividades: AngularFirestoreCollection<Actividad>;\n  private usuarios: AngularFirestoreCollection<User>;\n\n  public mis_puntos: Subject<number> = new Subject<number>();\n  public ptsObs = this.mis_puntos.asObservable();\n\n  constructor(private firestore: AngularFirestore, public authService: AuthService, private http: HttpClient) \n  {\n    this.actividades = this.firestore.collection('actividades');\n    this.usuarios = this.firestore.collection('users');\n\n    if(this.authService.isLoggedIn == true) {\n      this.getPuntos(JSON.parse(localStorage.getItem('datauser')).data.uid);\n    }\n\n\n  }\n\n\n  public getActividades():Observable<Actividad[]>\n  {\n   return this.actividades.valueChanges();\n  }\n\n  public getUsuarios():Observable<User[]>\n  {\n    return this.usuarios.valueChanges();\n  }\n\n  public addActividad(data: Actividad):Promise<string>\n  {\n    data.id=this.firestore.createId();\n    return this.actividades.doc(data.id).set({... data}).then(r=>{\n    return data.id;\n      });\n   } \n  \n  public getActividad(id:string){\n    return this.actividades.doc(id).get().toPromise().then(r=>{\n      return r.data() as Actividad;\n      });  \n  }\n\n  public getUsuario(myuid:string){\n    return this.usuarios.doc(myuid).get().toPromise().then(r=>{\n      this.mis_puntos.next((r.data() as User).puntos);\n      return r.data() as User;\n      });  \n  }\n\n  public editActividad(actividad_editada:Actividad){\n    return this.actividades.doc(actividad_editada.id).set(actividad_editada);\n  }\n\n  public addUserInActividad(actividad_escogida:Actividad, tel_user:string, username:string){\n\n    let aux_tel:string[] = actividad_escogida.tel_participantes;\n    aux_tel.push(tel_user);\n    let aux_nombre:string[] = actividad_escogida.username_participantes;\n    aux_nombre.push(username);\n\n    this.actividades.doc(actividad_escogida.id).update({\"tel_participantes\": aux_tel,\n      \"username_participantes\": aux_nombre,\"participantes\": actividad_escogida.participantes+1  }).then(()=>{\n\n      })\n\n\n  }\n\n  public deleteUserInActividad(actividad_escogida:Actividad, tel_user:string, username:string){\n\n    let aux_tel:string[] = actividad_escogida.tel_participantes;\n    aux_tel.splice(aux_tel.indexOf(tel_user),1);\n    let aux_nombre:string[] = actividad_escogida.username_participantes;;\n    aux_nombre.splice(aux_nombre.indexOf(username),1);\n\n\n    this.actividades.doc(actividad_escogida.id).update({\"tel_participantes\": aux_tel,\n      \"username_participantes\": aux_nombre,\"participantes\": actividad_escogida.participantes-1 }).then(()=>{\n\n    })\n\n  }\n\n  public puntosUserNewActivity(id:string, puntos:number, puntosextra:number)  {\n    let result:number = puntos + puntosextra;\n    this.usuarios.doc(id).update({\"puntos\": result}).then(()=>{\n      \n      this.mis_puntos.next(result)\n\n      if((puntos <600 && result>=600) ||\n            puntos <1200 && result>=1200 ||\n              puntos <2000 && result>=2000)\n      {\n                this.mandarmedalla(result,1);\n      }\n\n      else if((result <600 && puntos>=600) ||\n                result <1200 && puntos>=1200 ||\n                  result <2000 && puntos>=2000)\n      {\n                this.mandarmedalla(result,0);\n      }\n\n    })\n  }\n\n  \n  public getPuntos(id:string){\n    this.getUsuario(JSON.parse(localStorage.getItem('datauser')).data.uid).then(data=>{\n    this.mis_puntos.next(data.puntos);})\n  }\n\n  //llama a la funcion cloud para mandar un mail al user cuando sube/baja de nivel\n  public mandarmedalla(puntos:number, cambio:number){\n\n    let gif:string;\n    let medalla:string;\n    let texto:string;\n\n    if (puntos<=599){\n      medalla =\"https://i.imgur.com/z3sSaID.png\";\n    }\n    else if(puntos>599 && puntos<1200){\n      medalla =\"https://i.imgur.com/XuDzgFk.png\";\n    }\n    else if(puntos>1199 && puntos<2000){\n      medalla =\"https://i.imgur.com/XW2NoLu.png\";\n    }\n    else{\n      medalla =\"https://i.imgur.com/GLXCh0R.png\";\n    }\n\n    if (cambio==0){ //bajar puntos\n      gif = \"https://i.gifer.com/2NgG.gif\";\n      texto = \"Has bajado de nivel\"\n    }\n    else{ //subit puntos\n      gif = \"https://i.gifer.com/2DO.gif\";\n      texto = \"Has subido de nivel\"\n    }\n\n    var obj = { \n              dest_email: JSON.parse(localStorage.getItem('datauser')).data.email, \n              dest_nombre: JSON.parse(localStorage.getItem('datauser')).data.displayName, \n              dest_gif: gif, \n              dest_medalla_foto: medalla , \n              texto_nivel: texto, \n              dest_puntos: puntos \n            };\n\n    this.http.post('https://cors-anywhere.herokuapp.com/https://us-central1-freedom-a2cc5.cloudfunctions.net/cambioMedalla', obj, { responseType: 'text' }).subscribe(\n      res => {\n        console.log(res);\n      }\n    )\n}\n\n\n  public subirDNI(id:string, urldni:string){\n    this.usuarios.doc(id).update({\"photoDNI\": urldni});\n  }\n\n\n  public editUsuario(usuario_editado:User){\n    return this.usuarios.doc(usuario_editado.uid).set(usuario_editado);\n  }\n\n  public deleteActividad(id:string){\n    return this.actividades.doc(id).delete();\n  }\n\n  public deleteUsuario(username:string){\n    return this.usuarios.doc(username).delete();\n  }\n\n  public setfullName(name:string){\n    this.userFullName=name;\n  }\n  \n\n}\n","import { Injectable } from '@angular/core';\nimport { MatSidenav } from '@angular/material/sidenav';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class SidenavService {\n\n  private sidenav: MatSidenav;\n\n  constructor() { }\n\n  public setSidenav(sidenav: MatSidenav) {\n    this.sidenav = sidenav;\n  }\n\n  public open() {\n    return this.sidenav.open();\n  }\n\n  public close() {\n    return this.sidenav.close();\n  }\n\n  public toggle(): void {\n    this.sidenav.toggle();\n  }\n}","export const environment = {\n  production: false,\n  firebase: {\n    apiKey: \"AIzaSyCsf0aDpgzKoIOoaoEz8J0oLnalUO4ZRjc\",\n    authDomain: \"freedom-a2cc5.firebaseapp.com\",\n    databaseURL: \"https://freedom-a2cc5.firebaseio.com\",\n    projectId: \"freedom-a2cc5\",\n    storageBucket: \"freedom-a2cc5.appspot.com\",\n    messagingSenderId: \"940841537562\",\n    appId: \"1:940841537562:web:365433349d4ef13aad81a3\",\n    measurementId: \"G-YFZS8JB901\" } \n};\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n"]}